{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///static/spinningwheel.vue","webpack:///static/viewapp.vue","webpack:///static/winneranimation.vue","webpack:///static/winnerdialog.vue","webpack:///./static/loadingScreen.vue?1487","webpack:///./static/spinningwheel.vue?e6d7","webpack:///./static/winneranimation.vue?a462","webpack:///./static/loadingScreen.vue?a087","webpack:///./static/spinningwheel.vue?7ad3","webpack:///./static/viewapp.vue?fd8a","webpack:///./static/winneranimation.vue?422d","webpack:///./static/winnerdialog.vue?2f98","webpack:///./static/CircularArray.js","webpack:///./static/ConfettiLauncher.js","webpack:///./static/DisplayNamePicker.js","webpack:///./static/FontMeasurer.js","webpack:///./static/ImageCache.js","webpack:///./static/ImageUtil.js","webpack:///./static/Locales.js","webpack:///./static/NameHat.js","webpack:///./static/Path.js","webpack:///./static/PieSlice.js","webpack:///./static/Preferences.js","webpack:///./static/ServerFunctions.js","webpack:///./static/Ticker.js","webpack:///./static/Util.js","webpack:///./static/Wheel.js","webpack:///./static/WheelConfig.js","webpack:///./static/WheelConfigLoader.js","webpack:///./static/WheelPainter.js","webpack:///./static/audio.js","webpack:///./static/ding.mp3","webpack:///./static/hubSizes.js","webpack:///./static/images/404_cat.png","webpack:///./static/images/cheers.png","webpack:///./static/images/favicon.ico","webpack:///./static/images/favicon.png","webpack:///./static/images/icon_192.png","webpack:///./static/images/icon_512.png","webpack:///./static/images/icon_57.png","webpack:///./static/images/link.png","webpack:///./static/images/none.png","webpack:///./static/loadingScreen.vue","webpack:///./static/loadingScreen.vue?facf","webpack:///./static/loadingScreen.vue?05aa","webpack:///./static/locales lazy ^\\.\\/.*$ namespace object","webpack:///./static/spinningwheel.vue","webpack:///./static/spinningwheel.vue?e7d7","webpack:///./static/spinningwheel.vue?f03c","webpack:///./static/spinningwheel.vue?21f8","webpack:///./static/store.js","webpack:///./static/third_party/filmmusic-io/amazing-plan-by-kevin-macleod-from-filmmusic-io.mp3","webpack:///./static/third_party/filmmusic-io/life-of-riley-by-kevin-macleod-from-filmmusic-io.mp3","webpack:///./static/third_party/filmmusic-io/strength-of-the-titans-by-kevin-macleod-from-filmmusic-io.mp3","webpack:///./static/third_party/freesound/320652_celebration__success.mp3","webpack:///./static/third_party/freesound/350428__benjaminharveydesign__trumpet-fanfare.mp3","webpack:///./static/third_party/freesound/370743__podsburgh__winner-metal-bell-ringing-remix.mp3","webpack:///./static/third_party/freesound/425432__trivialaccapella__18-crash-hit-soft.mp3","webpack:///./static/third_party/publicdomainvectors/camera.png","webpack:///./static/third_party/publicdomainvectors/cat.png","webpack:///./static/third_party/publicdomainvectors/dog.png","webpack:///./static/third_party/publicdomainvectors/dollar-sign.png","webpack:///./static/third_party/publicdomainvectors/dragon.png","webpack:///./static/third_party/soundbible/SMALL_CROWD_APPLAUSE-Yannick_Lemieux-1268806408.mp3","webpack:///./static/third_party/soundbible/Tick-DeepFrozenApps-397275646.mp3","webpack:///./static/view.js","webpack:///./static/viewapp.vue","webpack:///./static/viewapp.vue?c12a","webpack:///./static/viewapp.vue?e114","webpack:///./static/winneranimation.vue","webpack:///./static/winneranimation.vue?3614","webpack:///./static/winneranimation.vue?216c","webpack:///./static/winneranimation.vue?9542","webpack:///./static/winnerdialog.vue","webpack:///./static/winnerdialog.vue?8bb7","webpack:///./static/winnerdialog.vue?2e68"],"names":["CircularArray","array","slice","index","length","value","end","myColors","launch","colors","Date","now","boom","interval","setInterval","clearInterval","confetti","startVelocity","particleCount","spread","ticks","origin","x","Math","random","y","DisplayNamePicker","hat","NameHat","namesOnWheel","allNamesFitOnWheel","filledSlices","textboxNames","maxSlices","allowDuplicates","Set","round","empty","forEach","name","includes","addName","filter","adjustLength","indexAtPointer","updated","startEmptyIndex","ceil","startFilledIndex","floor","circDisplayNames","i","getElement","setElement","pullRandomName","newNames","getArray","Util","displayNames","push","lastName","getFontSize","context","displayText","sliceCount","fontName","wheelRadius","hubRadius","bisectSearch","slices","text","min","max","fontSize","font","textFits","PI","abs","r","b","a","h","w","measureText","width","ImageCache","images","Object","emptyImage","Image","src","addImage","imageName","getImage","naturalHeight","optimizeSliceImage","dataUrl","Promise","resolve","reject","image","onload","canvas","createProportionalCanvas","height","drawStretched","getOptimizedDataUrl","optimizeCenterImage","createSquareCanvas","topLeftIsWhiteOrTransparent","drawProportionalOnSquareCanvas","createInMemoryImage","tempCanvas","document","createElement","getTopLeftColor","getContext","drawImage","data","getImageData","meantToBeWhite","getHexColor","isTransparent","rgbaColor","retVal","match","extractColors","dataUri","Vibrant","img","v","getPalette","palette","hex","LightVibrant","DarkVibrant","Muted","LightMuted","DarkMuted","imageWidth","imageHeight","maxSide","xScale","yScale","scale","side","hexColor","topLeftIsTransparent","g","d","Number","toString","padStart","save","restore","canvasWidth","originalDataUrl","newDataUrl","toDataURL","nonEnglishDomains","partialName","locale","locales","humanName","googleName","twitterName","file","getLocale","hostName","pathName","getPathLocale","getDomainLocale","getRelativeUrl","getAbsoluteUrl","path","link","replace","getLoginLocale","providerName","matchedLocales","l","toLowerCase","reduce","acc","current","getOfficialList","map","url","getMessagesFileName","getLangTipLocale","systemLocale","navigatorLanguages","userLocale","shouldShowLanguageTip","areSameLocale","localeIsSupported","getClosestSupportedLocale","getNamesForAll","sort","localeCompare","domain","locale1","locale2","getLangFromLocale","split","find","re1","RegExp","re2","names","getRandomName","indexOfName","indexOf","splice","Path","location","protocol","host","Locales","pathname","sharedWheel","prefix","join","PieSlice","radians","color","draw","bgColor","drawBackColor","imgBgColor","ImageUtil","drawText","drawBorder","radius","beginPath","moveTo","arc","lineTo","fillStyle","fill","lineJoin","textBaseline","textAlign","getTextColor","lineWidth","strokeStyle","outline","strokeText","fillText","stroke","p","getImagePos","imageRatio","cos","sin","charAt","substring","parseInt","uicolors","c","col","pow","L","Preferences","appInfoVisible","darkMode","loadJson","jsonString","obj","JSON","parse","copyPropertiesFrom","getJson","keys","key","stringify","getValues","loadValues","values","clone","assign","createSharedWheel","editable","wheelConfig","payload","process","env","FUNCTION_PREFIX","fetch","method","mode","headers","body","response","json","respObj","hasOwnProperty","error","logSharedWheelRead","getSharedWheel","fetchSocialMediaUsers","searchTerm","encodeURIComponent","convertAccount","idToken","Ticker","lastFrameTimeMs","delta","timestep","setTimestamp","timestamp","shouldTick","getHtmlAsTextCache","getHtmlAsText","html","doc","DOMParser","parseFromString","documentElement","textContent","e","replacements","element","re","browserCanHandlePersistance","userAgent","arraysEqual","boxFits","sqrt","extractDisplayText","entry","shorten","MAX_LENGTH","extractImage","imageData","shuffleArray","inputArray","j","temp","getOccurencesInArray","accumulator","currentValue","browserIsIE","window","documentMode","browserIsIEOrOldEdge","sortWheelEntries","entries","numeric","sensitivity","isTouchScreen","DocumentTouch","navigator","maxTouchPoints","msMaxTouchPoints","sanitizeWheelTitle","title","getAddedEntries","oldEntries","newEntries","initTracking","onerror","message","source","lineno","colno","trackEvent","ex","console","eventCategory","eventAction","eventLabel","startsWith","ga","trackException","exception","extraData","escapeHtml","unsafe","colorIsWhite","getElementsByClassName","classNames","className","el","updateColorStyles","darkModeColor","pageColor","sheet","styleSheets","href","rule","rules","selectorText","style","backgroundColor","Wheel","angle","speed","stopSpeed","acceleration","deceleration","nameLastTick","state","NotSpunState","wheelPainter","WheelPainter","namePicker","doneSpinningCallback","nameChangedCallback","setNames","editAllowed","refresh","configure","centerImage","spinTime","slowSpin","hubSize","pageBackgroundColor","tick","getIndexAtPointer","click","spinIsDone","getNameAtPointer","isSpinning","setRandomAngle","advance","indexFromLastTick","indexFromThisTick","numberOfNames","getNumberOfDisplayNames","radiansPerSegment","getDisplayNames","resetRotation","calculateDeceleration","decelTicks","startSpeed","exp","log","accelerate","decelerate","isBelowStopSpeed","wheel","AcceleratingState","MAX_AGE","SpinningState","OpenForEditState","WheelConfig","winnerMessage","colorSettings","enabled","pictureType","galleryPicture","customPictureName","customPictureDataUri","duringSpinSound","afterSpinSound","maxNames","playCheers","launchConfetti","animateWinner","autoRemoveWinner","displayWinnerDialog","playClickWhenWinnerRemoved","getDefaultColorSettings","getDefaultNames","setCustomPicture","getWheelImage","shouldPlayTicks","setColors","colorValues","enabledValues","getCoalescedColors","isTooBigForDatabase","convertOldData","Array","isArray","trim","playTicks","load","windowLocation","ServerFunctions","result","setPathPrefix","redirectUrl","sharedWheelPath","imageCache","wheelImages","getHubRadius","drawShadows","drawBackgroundColor","drawWheelShadow","drawHat","drawWheel","drawPointer","drawHub","hubFraction","hubSizes","wheelImage","pointerImage","fillRect","$forceUpdate","wheelShadowImage","drawWheelShadowNoCache","drawWheelNoCache","translate","rotate","drawPointerNoCache","gradient","createRadialGradient","addColorStop","self","getSmallestFont","drawCenterCircle","minFontSize","FontMeasurer","shadowColor","shadowOffsetY","shadowBlur","clip","setAttribute","sounds","musicPlayingNow","duringSpinSounds","musicFile","afterSpinSounds","getDuringSpinSounds","getAfterSpinSounds","playTick","playSound","playClick","playAfterSpin","trackName","winningEntry","speechSynthesis","utterThis","SpeechSynthesisUtterance","speak","sound","startMusic","Howl","autoplay","stopMusic","fade","soundName","play","preloadSounds","preloadFile","exports","Vue","use","Vuex","Store","preferences","appStatus","fullScreen","online","wheelSpinning","sheetLinked","userIsLoggedIn","userPhotoUrl","userDisplayName","userUid","version","getters","entryCount","mutations","setWheelConfig","newWheelConfig","setWheelTitle","shuffleNames","sortNames","appendNames","concat","removeName","removeNameAll","enterFullScreen","exitFullScreen","setOnline","startWheelSpin","stopWheelSpin","linkSheet","unlinkSheet","logInUser","photoUrl","displayName","uid","logOutUser","setPreferences","newPrefs","toggleAppInfoVisibility","toggleDarkMode","Buefy","defaultIconPack","VueMq","breakpoints","mobile","desktop","Infinity","VueI18n","i18n","hostname","loadLocale","then","template","store","components","viewapp","messages","setLocaleMessage"],"mappings":";QAAA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA,QAAQ,oBAAoB;QAC5B;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA,iBAAiB,4BAA4B;QAC7C;QACA;QACA,kBAAkB,2BAA2B;QAC7C;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;;QAEA;QACA;QACA,yCAAyC,8HAA8H,6BAA6B,2JAA2J;QAC/V;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;QACA;QACA;;;QAGA;;QAEA;QACA,iCAAiC;;QAEjC;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA,MAAM;QACN;;QAEA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,wBAAwB,kCAAkC;QAC1D,MAAM;QACN;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;QAEA;QACA,0CAA0C,oBAAoB,WAAW;;QAEzE;QACA;QACA;QACA;QACA,gBAAgB,uBAAuB;QACvC;;;QAGA;QACA;QACA;QACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxLA;AACA;AACA;AACA;AACA;AAEA;AACA,MADA,kBACA;AACA;AACA,sEADA;AACA,wEADA;AAEA;AAFA;AAIA,GANA;AAOA,SAPA,qBAOA;AACA;AACA;AACA;AACA;AACA,GAZA;AAaA;AACA,eADA,yBACA;AACA;AACA,KAHA;AAIA,SAJA,mBAIA;AACA;AACA,KANA;AAOA,eAPA,yBAOA;AACA;AACA,KATA;AAUA,cAVA,wBAUA;AACA;AACA;AAZA,GAbA;AA2BA;AACA,eADA,uBACA,QADA,EACA,QADA,EACA;AACA;AACA,KAHA;AAIA,eAJA,uBAIA,QAJA,EAIA;AACA;AACA,KANA;AAOA,SAPA,iBAOA,QAPA,EAOA,QAPA,EAOA;AACA,iEACA,gCADA;AAEA;AAVA,GA3BA;AAuCA;AACA,gBADA,0BACA;AACA;AACA;AACA;AACA;AACA;AACA,uGACA,MADA,CACA,MADA;;AAEA;AACA,4GACA,MADA,CACA,MADA,EACA,GADA,CACA,EADA;AAEA;AACA,KAbA;AAcA,+BAdA,uCAcA,MAdA,EAcA;AACA;AACA,KAhBA;AAiBA,oBAjBA,8BAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAJA;AAKA;AACA,KA1BA;AA2BA,QA3BA,kBA2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAnCA;AAoCA,iBApCA,2BAoCA;AACA;AACA,KAtCA;AAuCA,mBAvCA,2BAuCA,YAvCA,EAuCA;AACA;AACA;AACA,KA1CA;AA2CA,0BA3CA,oCA2CA;AACA;;AACA;AACA;AACA;AACA,OAHA,MAIA;AACA;AACA;AACA,KApDA;AAqDA,QArDA,gBAqDA,EArDA,EAqDA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,KA7DA;AA8DA,iBA9DA,2BA8DA;AACA;AACA,KAhEA;AAiEA,WAjEA,qBAiEA;AACA;AACA,KAnEA;AAoEA,kBApEA,4BAoEA;AACA,6BACA,kDADA,EAEA,6CAFA,EAGA,sCAHA,EAIA,sCAJA,EAKA,qCALA,EAMA,+BACA,MADA,GACA,iDAPA;AASA;AA9EA;AAvCA,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA,6EADA;AACA,6EADA;AACA,2EADA;AACA;AADA,GADA;AAIA,SAJA,qBAIA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,yBADA,GACA,iGADA;AAAA;AAAA;AAAA,qBAGA,2EAHA;;AAAA;AAGA,oBAHA;AAIA;AACA;AALA;AAAA;;AAAA;AAAA;AAAA;AAQA;AACA;;AATA;AAWA,kBAXA,GAWA,sEAXA;AAYA;;AACA;;AACA;AACA;AACA;;AACA;;AACA;;AACA;;AAnBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoBA,GAxBA;AAyBA,MAzBA,kBAyBA;AACA;AACA,uBADA;AACA;AADA;AAGA,GA7BA;AA8BA;AACA,eADA,yBACA;AACA;AACA,KAHA;AAIA,iBAJA,2BAIA;AACA;AACA;AANA,GA9BA;AAsCA;AACA,wBADA,kCACA;AACA;AACA;AACA;AACA;AACA,KANA;AAOA,0BAPA,oCAOA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA,KAdA;AAeA,eAfA,yBAeA;AACA;;AACA;AACA;AACA;AACA,KApBA;AAqBA,gBArBA,0BAqBA;AACA;AACA,KAvBA;AAwBA,gBAxBA,wBAwBA,YAxBA,EAwBA;AAAA;;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AAAA;AAAA;AACA;;AACA;AACA,KAvCA;AAwCA,uBAxCA,+BAwCA,GAxCA,EAwCA;AACA;AAAA;AAAA;AAAA;AACA,KA1CA;AA2CA,cA3CA,sBA2CA,IA3CA,EA2CA;AACA;AACA;AACA;;AACA;AACA;AAAA;AAAA;AACA;AACA,KAlDA;AAmDA,iBAnDA,yBAmDA,IAnDA,EAmDA;AACA;AACA;AACA;;AACA;AACA;AAAA;AAAA;AACA;AACA;AA1DA;AAtCA,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjCA;AAEA;AACA,MADA,kBACA;AACA;AAAA;AAAA;AACA,GAHA;AAIA;AACA,QADA,gBACA,UADA,EACA;AAAA;;AACA;;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,EAEA,IAFA;AAGA;AACA;AAVA;AAJA,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACmBA;AAEA;AACA,MADA,kBACA;AACA;AACA,gCADA;AACA,oBADA;AACA,qBADA;AAEA;AAFA;AAIA,GANA;AAOA;AACA,iBADA,2BACA;AACA;AACA,KAHA;AAIA,oBAJA,8BAIA;AACA;AACA,KANA;AAOA,uBAPA,iCAOA;AACA;AACA;AACA;AACA;AACA;AAZA,GAPA;AAqBA;AACA,QADA,gBACA,WADA,EACA;AACA;AACA;AACA;AACA;AACA;AACA,KAPA;AAQA,0BARA,oCAQA;AAAA;;AACA;AACA;AACA;AACA,SAFA,EAEA,GAFA;AAGA,OAJA;AAKA,KAdA;AAeA,SAfA,mBAeA;AACA;AACA,KAjBA;AAkBA,gBAlBA,0BAkBA;AACA;AACA;AACA,KArBA;AAsBA,mBAtBA,6BAsBA;AACA;AACA;AACA;AAzBA;AArBA,G;;;;;;;;;;;ACjDA,uC;;;;;;;;;;;ACAA,uC;;;;;;;;;;;ACAA,uC;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,oBAAoB,yBAAyB;AAC7C;AACA;AACA;;;;;;;;;;;;;;ACPA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,yCAAyC,yBAAyB,EAAE;AACzE;AACA;AACA,sBAAsB,gBAAgB;AACtC,gBAAgB,iDAAiD;AACjE;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,0BAA0B;AAChD;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,gCAAgC,uBAAuB;AACvD,0BAA0B;AAC1B,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,uBAAuB;AACvD,0BAA0B;AAC1B,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,0BAA0B;AAChD;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,gCAAgC,uBAAuB;AACvD,0BAA0B;AAC1B,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrGA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB,SAAS;AACT;AACA,qBAAqB,yBAAyB;AAC9C;AACA;AACA;AACA;AACA,8BAA8B;AAC9B,eAAe;AACf;AACA;AACA;AACA,mBAAmB,SAAS,+CAA+C,EAAE;AAC7E;AACA,6BAA6B,mCAAmC;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,6BAA6B;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,6BAA6B,yBAAyB;AACtD;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChFA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,oBAAoB,qDAAqD;AACzE,eAAe,yBAAyB;AACxC;AACA;AACA,SAAS,6CAA6C,mBAAmB,EAAE;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,8DAA8D;AAC5E;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,iBAAiB,0CAA0C,gBAAgB,EAAE;AAC7E,sBAAsB,iCAAiC;AACvD;AACA;AACA,aAAa,gDAAgD,gBAAgB,EAAE;AAC/E;AACA,wBAAwB,6BAA6B;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,6CAA6C;AACpE,oBAAoB,uBAAuB;AAC3C;AACA;AACA,gCAAgC,8CAA8C;AAC9E,0BAA0B;AAC1B,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B,WAAW;AACX;AACA;AACA;AACA;AACA,wBAAwB,oBAAoB;AAC5C;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,qCAAqC;AAC7D,qBAAqB;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,wCAAwC;AAChE,qBAAqB;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;ACzHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACqBA,a;AAEnB,yBAAYC,KAAZ,EAAmB;AAAA;;AACjB,SAAKA,KAAL,GAAaA,KAAK,CAACC,KAAN,CAAY,CAAZ,CAAb;AACD;;;;+BAEUC,K,EAAO;AAChB,aAAOA,KAAK,GAAC,CAAb,EAAgB;AACdA,aAAK,IAAI,KAAKF,KAAL,CAAWG,MAApB;AACD;;AACD,aAAOD,KAAK,IAAE,K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","file":"view-bd4aea3a596d799d15b9.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"view\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({\"locale-en-US\":\"locale-en-US\",\"locale-fr-FR\":\"locale-fr-FR\",\"locale-sv-SE\":\"locale-sv-SE\",\"vendors~vibrant\":\"vendors~vibrant\"}[chunkId]||chunkId) + \"-\" + {\"locale-en-US\":\"c4317b8f0cb01a15adf1\",\"locale-fr-FR\":\"f8fa0aa2ba61b00ab51f\",\"locale-sv-SE\":\"4465e066bb82154f6295\",\"vendors~vibrant\":\"d01f260501d5ec725296\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"./static/view.js\",\"vendor\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","<!--\nCopyright 2020 Google LLC\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    https://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div class=\"container\" style=\"text-align: center\">\n    <canvas id=\"wheelCanvas\" style=\"width:100%\" @click=\"spin()\" width=\"700\" height=\"700\">\n    </canvas>\n    <div v-if=\"!isTouchScreen\" id=\"instructionsLayer\" ref=\"instructionsLayer\" @click=\"spin()\">\n      <div class=\"instructionsText\" id=\"topInstruction\" style=\"padding-top: 20%\">\n        {{ $t('spinningwheel.Click to spin') }}\n      </div>\n      <div class=\"instructionsText\" id=\"bottomInstruction\" style=\"padding-top: 60%\">\n        {{ $t('spinningwheel.or press ctrl+enter') }}\n      </div>\n    </div>\n    <div v-if=\"isTouchScreen\" id=\"instructionsLayer\" ref=\"instructionsLayer\" @click=\"spin()\">\n      <div class=\"instructionsText\" id=\"topInstruction\" style=\"padding-top: 20%\">\n        {{ $t('spinningwheel.Tap to spin') }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import Wheel from './Wheel.js';\n  import * as Util from './Util.js';\n  import Ticker from './Ticker.js';\n  import CircleType from 'circletype';\n  import * as Locales from './Locales.js';\n\n  export default {\n    data() {\n      return {\n        myWheel: new Wheel(), myTicker: new Ticker(),\n        isTouchScreen: Util.isTouchScreen()\n      }\n    },\n    mounted() {\n      this.myWheel = new Wheel();\n      this.tick(0);\n      this.setupOverlay();\n      this.startKeyListener();\n    },\n    computed: {\n      wheelConfig() {\n        return this.$store.state.wheelConfig;\n      },\n      names() {\n        return this.$store.state.wheelConfig.names;\n      },\n      preferences() {\n        return this.$store.state.preferences\n      },\n      hasEntries() {\n        return (this.$store.state.wheelConfig.names.length>0);\n      }\n    },\n    watch: {\n      wheelConfig(newValue, oldValue) {\n        this.configureWheel();\n      },\n      preferences(newValue) {\n        this.configureWheel();\n      },\n      names(newValue, oldValue) {\n        this.myWheel.setNames(newValue, this.wheelConfig.maxNames,\n                              this.wheelConfig.allowDuplicates);\n      },\n    },\n    methods: {\n      setupOverlay() {\n        const side = document.getElementById('wheelCanvas').offsetWidth;\n        const fontSize = `${Math.round(side/20)}px`;\n        document.getElementById('instructionsLayer').style.fontSize = fontSize;\n        if (this.cantBeDisplayedInCircleType(this.$i18n.locale)) return;\n        const radius = side / 3;\n        new CircleType(document.getElementById('topInstruction'))\n          .radius(radius);\n        if (document.getElementById('bottomInstruction')) {\n          new CircleType(document.getElementById('bottomInstruction'))\n            .radius(radius).dir(-1);\n        }\n      },\n      cantBeDisplayedInCircleType(locale) {\n        return ['ar', 'bn', 'fa', 'gu', 'he', 'hi'].includes(locale);\n      },\n      startKeyListener() {\n        if (!Util.isTouchScreen()) {\n          const self = this;\n          document.addEventListener('keyup', event => {\n            if (event.key == 'Enter' && event.ctrlKey) {\n              self.spin();\n            }\n          });\n        }\n      },\n      spin() {\n        if (this.myWheel.isSpinning()) return;\n        if (!this.hasEntries) return;\n        this.trackInGoogleAnalytics();\n        this.$refs.instructionsLayer.style.display = 'none';\n        this.$store.commit('startWheelSpin');\n        this.$emit('wheel-started');\n        this.myWheel.click(this.onNameChanged, this.onStopWheelSpin);\n      },\n      onNameChanged() {\n        this.$emit('name-changed');\n      },\n      onStopWheelSpin(winningEntry) {\n        this.$store.commit('stopWheelSpin');\n        this.$emit('wheel-stopped', winningEntry);\n      },\n      trackInGoogleAnalytics() {\n        const defaultNames = this.wheelConfig.getDefaultNames();\n        if (!Util.arraysEqual(this.names, defaultNames)) {\n          const label = this.$store.state.version;\n          Util.trackEvent('Wheel', 'SpinWithCustomNames', label);\n        }\n        else {\n          Util.trackEvent('Wheel', 'SpinWithDefaultNames', '');\n        }\n      },\n      tick(ms) {\n        this.myTicker.setTimestamp(ms);\n        while (this.myTicker.shouldTick()) {\n          this.myWheel.tick();\n        }\n        const context = document.getElementById('wheelCanvas').getContext('2d');\n        this.myWheel.draw(context);\n        requestAnimationFrame(this.tick);\n      },\n      resetRotation() {\n        this.myWheel.resetRotation();\n      },\n      refresh() {\n        this.myWheel.refresh();\n      },\n      configureWheel() {\n        this.myWheel.configure(\n          this.$store.state.wheelConfig.getCoalescedColors(),\n          this.$store.state.wheelConfig.getWheelImage(),\n          this.$store.state.wheelConfig.spinTime,\n          this.$store.state.wheelConfig.slowSpin,\n          this.$store.state.wheelConfig.hubSize,\n          this.$store.getters.darkMode ? \n            '#000' : this.$store.state.wheelConfig.pageBackgroundColor\n        );\n      },\n    }\n  }\n</script>\n\n<style scoped>\n  .container {\n    position: relative;\n  }\n  .instructionsText {\n    width: 100%;\n    height: 100%;            \n    position: absolute;\n    top: 0;\n    left: 0;\n    color: #FFF;\n    text-shadow: 0px 0px 10px #000000;\n    background-color: #00000000;\n    font-family: sans-serif;\n    font-weight: 800;\n  }\n</style>\n","<!--\nCopyright 2020 Google LLC\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    https://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <span>\n    <loading-screen v-show=\"loading\"></loading-screen>\n    <section class=\"section\" style=\"padding-top:1rem; padding-left:1rem\">\n      <div class=\"columns\">\n        <div class=\"column is-3\" style=\"font-family:Quicksand\">\n          <b-button id=\"createYourOwnLink\" tag=\"a\" href=\"/\">\n            <i class=\"fas fa-pencil-alt\"></i>&nbsp;{{ $t('app.Create your own') }}\n          </b-button>\n        </div>\n        <div class=\"column is-7\">\n          <spinningwheel ref=\"spinningwheel\"\n            v-on:wheel-started=\"wheelStarted\"\n            v-on:name-changed=\"nameChanged\"\n            v-on:wheel-stopped=\"wheelStopped\"\n          ></spinningwheel>\n        </div>\n      </div>\n    </section>\n\n    <winnerdialog\n      ref=\"winnerdialog\"\n      v-on:remove-name=\"removeName\"\n      v-on:remove-name-all=\"removeNameAll\"\n    ></winnerdialog>\n\n    <winneranimation ref=\"winneranimation\">\n    </winneranimation>\n  </span>\n</template>\n\n<script>\n  import loadingScreen from './loadingScreen.vue';\n  import spinningwheel from './spinningwheel.vue';\n  import winnerdialog from './winnerdialog.vue';\n  import winneranimation from './winneranimation.vue';\n  import * as ConfettiLauncher from './ConfettiLauncher.js';\n  import * as Util from './Util.js';\n  import WheelConfig from './WheelConfig.js';\n  import * as ServerFunctions from './ServerFunctions.js';\n  import * as Audio from './audio.js';\n  import * as WheelConfigLoader from './WheelConfigLoader.js';\n  import Path from './Path.js';\n\n  export default {\n  components: {\n  loadingScreen, spinningwheel, winnerdialog, winneranimation\n  },\n  async mounted() {\n  const wheelConfig = new WheelConfig(this.$t('common.We have a winner!'));\n  try {\n  const result = await WheelConfigLoader.load(window.location);\n  wheelConfig.loadValues(result.wheelConfig);\n  ServerFunctions.logSharedWheelRead(result.sharedWheelPath);\n  }\n  catch(ex) {\n  Util.trackEvent(ex);\n  alert(ex);\n  }\n  const path = new Path(window.location);\n  document.getElementById('createYourOwnLink').href = path.getAbsoluteLocalizedRootUrl();\n  this.$store.commit('setWheelConfig', wheelConfig);\n  document.documentElement.style.backgroundColor = wheelConfig.pageBackgroundColor;\n  document.body.style.backgroundColor = wheelConfig.pageBackgroundColor;\n  Audio.preloadSounds(wheelConfig.duringSpinSound, wheelConfig.afterSpinSound);\n  this.setDocLangProperties();\n  this.refreshWheelOnFontLoad();\n  this.loading = false;\n  },\n  data() {\n  return {\n  waitAnimation: {}, loading: true\n  };\n  },\n  computed: {\n  wheelConfig() {\n  return this.$store.state.wheelConfig\n  },\n  wheelSpinning() {\n  return this.$store.state.appStatus.wheelSpinning\n  }\n  },\n  methods: {\n  setDocLangProperties() {\n  document.documentElement.setAttribute('lang', this.$i18n.locale);\n  document.title = 'Drink Roulette';\n  const desc = this.$t('app.Free and easy to use');\n  document.querySelector('meta[name=\"description\"]').setAttribute(\"content\", desc);\n  },\n  refreshWheelOnFontLoad() {\n  if (document.fonts) {\n  const self = this;\n  document.fonts.ready.then(function() {\n  self.$refs.spinningwheel.refresh();\n  })\n  }\n  },\n  nameChanged() {\n  const state = this.$store.state;\n  if (state.appStatus.wheelSpinning && state.wheelConfig.shouldPlayTicks()) {\n          Audio.playTick();\n        }\n      },\n      wheelStarted() {\n        Audio.startMusic(this.wheelConfig.duringSpinSound);\n      },\n      wheelStopped(winningEntry) {\n        Audio.stopMusic();\n        if (this.wheelConfig.animateWinner) {\n          this.$refs.winneranimation.show(winningEntry);\n        }\n        if (this.wheelConfig.launchConfetti) {\n          ConfettiLauncher.launch(this.wheelConfig.getCoalescedColors());\n        }\n        if (this.wheelConfig.displayWinnerDialog) {\n          this.$refs.winnerdialog.show(winningEntry);\n        }\n        if (this.wheelConfig.autoRemoveWinner) {\n          setTimeout(_ => this.removeName(winningEntry), 5000);\n        }\n        Audio.playAfterSpin(this.wheelConfig.afterSpinSound, Util.extractDisplayText(winningEntry));\n      },\n      showSnackbarMessage(msg) {\n        this.$buefy.toast.open({message: msg, duration: 6000});\n      },\n      removeName(name) {\n        if (this.$store.state.wheelConfig.playClickWhenWinnerRemoved) {\n          Audio.playClick();\n        }\n        this.$store.commit('removeName', name);\n        const msg = this.$t('app.Removed', {name: Util.extractDisplayText(name, true)});\n        this.showSnackbarMessage(msg);\n      },\n      removeNameAll(name) {\n        if (this.$store.state.wheelConfig.playClickWhenWinnerRemoved) {\n          Audio.playClick();\n        }\n        this.$store.commit('removeNameAll', name);\n        const msg = this.$t('app.Removed', {name: Util.extractDisplayText(name, true)});\n        this.showSnackbarMessage(msg);\n      }\n    }\n  }\n</script>\n","<!--\nCopyright 2020 Google LLC\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    https://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <div class=\"animated-background\" ref=\"overlay\">\n    <div class=\"content\">\n      <p class=\"animated-text\" style=\"color:#FFFFFF\">\n        {{ winnerText }}\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\n  import * as Util from './Util.js';\n\n  export default {\n    data() {\n      return {winnerText: ''}\n    },\n    methods: {\n      show(winnerText) {\n        const shortWinnerText = Util.extractDisplayText(winnerText, true);\n        if (shortWinnerText) {\n          this.winnerText = shortWinnerText;\n          this.$refs.overlay.style.display = 'block';\n          setTimeout(() => {\n            this.$refs.overlay.style.display = 'none';\n          }, 6000);\n        }\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .animated-background {\n    text-align: center;\n    position: fixed;\n    display: none;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(0,0,0,0.7);\n    z-index: 45;\n    animation-name: fade-animation;\n    animation-duration: 6s;\n    animation-timing-function: ease-in;\n    animation-delay: 0s;\n    animation-iteration-count: 1;\n    animation-direction: normal;\n  }\n  @keyframes fade-animation {\n    0% {\n      opacity: 0.7;\n    }\n    100% {\n      opacity: 0;\n    }\n  }\n  .content {\n    margin-left: auto;\n    margin-right: auto;\n    position: relative;\n    top: 50%;\n    transform: translateY(-50%);\n  }\n  .animated-text {\n    color: #FFFFFF;\n    font-size: 200px;\n    font-family: Quicksand;\n    animation-name: zoom-animation;\n    animation-duration: 6s;\n    animation-timing-function: ease-in;\n    animation-delay: 0s;\n    animation-iteration-count: 1;\n    animation-direction: normal;\n  }\n  @keyframes zoom-animation {\n    0% {\n      transform: scale(0.03);\n    }\n    100% {\n      transform: scale(5);\n      opacity: 0;\n    }\n  }\n</style>\n","<!--\nCopyright 2020 Google LLC\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    https://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n-->\n<template>\n  <b-modal :active.sync=\"winnerDialogVisible\" :width=\"640\" scroll=\"keep\">\n    <div class=\"modal-card\" style=\"width: auto\">\n      <header class=\"modal-card-head\">\n        <div class=\"modal-card-title\" style=\"width:100%\">\n          <h5 class=\"modal-title\">\n            {{winnerMessage}}\n          </h5>\n        </div>\n      </header>\n      <section class=\"modal-card-body can-go-dark\">\n        <h1 class=\"title\">\n          <img v-if=\"winnerImage\" :src=\"winnerImage\" style=\"height:200px;vertical-align:middle\">\n          <span>{{winnerText}}</span>\n        </h1>\n      </section>\n      <footer class=\"modal-card-foot\" style=\"justify-content:flex-end\">\n        <b-button size=\"is-medium\" @click=\"winnerDialogVisible=false\">\n          {{ $t('common.Close') }}\n        </b-button>\n        <b-button size=\"is-medium\" v-show=\"showRemoveButton\" type=\"is-info\" ref=\"removeButton\" @click=\"removeWinner\">\n          {{ $t('winnerdialog.Remove') }}\n        </b-button>\n        <b-button size=\"is-medium\" v-show=\"showRemoveAllButton\" type=\"is-primary\" @click=\"removeWinnerAll\">\n          {{ $t('winnerdialog.Remove all instances') }}\n        </b-button>\n      </footer>\n    </div>\n  </b-modal>\n</template>\n\n<script>\n  import * as Util from './Util.js';\n\n  export default {\n    data() {\n      return {\n        winnerDialogVisible: false, winnerText: '', winnerImage: '',\n        winnerEntry: ''\n      }\n    },\n    computed: {\n      winnerMessage() {\n        return this.$store.state.wheelConfig.winnerMessage;\n      },\n      showRemoveButton() {\n        return !this.$store.state.wheelConfig.autoRemoveWinner;\n      },\n      showRemoveAllButton() {\n        const wheelConfig = this.$store.state.wheelConfig;\n        const winnerInstances = Util.getOccurencesInArray(wheelConfig.names, this.winnerEntry);\n        const autoRemoveWinner = wheelConfig.autoRemoveWinner;\n        return !autoRemoveWinner && winnerInstances > 1;\n      }\n    },\n    methods: {\n      show(winnerEntry) {\n        this.winnerEntry = winnerEntry;\n        this.winnerText = Util.extractDisplayText(winnerEntry, false);\n        this.winnerImage = Util.extractImage(winnerEntry);\n        this.winnerDialogVisible = true;\n        this.setFocusOnRemoveButton();\n      },\n      setFocusOnRemoveButton() {\n        this.$nextTick(() => {\n          setTimeout(() => {\n            if (this.$refs.removeButton) this.$refs.removeButton.$el.focus()\n          }, 100)\n        });\n      },\n      close() {\n        this.winnerDialogVisible = false;\n      },\n      removeWinner() {\n        this.$emit('remove-name', this.winnerEntry);\n        this.winnerDialogVisible = false;\n      },\n      removeWinnerAll() {\n        this.$emit('remove-name-all', this.winnerEntry);\n        this.winnerDialogVisible = false;\n      }\n    }\n  }\n</script>\n","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"overlay\" }, [_vm._v(\"\\n  ⏳\\n\")])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"container\", staticStyle: { \"text-align\": \"center\" } },\n    [\n      _c(\"canvas\", {\n        staticStyle: { width: \"100%\" },\n        attrs: { id: \"wheelCanvas\", width: \"700\", height: \"700\" },\n        on: {\n          click: function($event) {\n            return _vm.spin()\n          }\n        }\n      }),\n      _vm._v(\" \"),\n      !_vm.isTouchScreen\n        ? _c(\n            \"div\",\n            {\n              ref: \"instructionsLayer\",\n              attrs: { id: \"instructionsLayer\" },\n              on: {\n                click: function($event) {\n                  return _vm.spin()\n                }\n              }\n            },\n            [\n              _c(\n                \"div\",\n                {\n                  staticClass: \"instructionsText\",\n                  staticStyle: { \"padding-top\": \"20%\" },\n                  attrs: { id: \"topInstruction\" }\n                },\n                [\n                  _vm._v(\n                    \"\\n      \" +\n                      _vm._s(_vm.$t(\"spinningwheel.Click to spin\")) +\n                      \"\\n    \"\n                  )\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                {\n                  staticClass: \"instructionsText\",\n                  staticStyle: { \"padding-top\": \"60%\" },\n                  attrs: { id: \"bottomInstruction\" }\n                },\n                [\n                  _vm._v(\n                    \"\\n      \" +\n                      _vm._s(_vm.$t(\"spinningwheel.or press ctrl+enter\")) +\n                      \"\\n    \"\n                  )\n                ]\n              )\n            ]\n          )\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.isTouchScreen\n        ? _c(\n            \"div\",\n            {\n              ref: \"instructionsLayer\",\n              attrs: { id: \"instructionsLayer\" },\n              on: {\n                click: function($event) {\n                  return _vm.spin()\n                }\n              }\n            },\n            [\n              _c(\n                \"div\",\n                {\n                  staticClass: \"instructionsText\",\n                  staticStyle: { \"padding-top\": \"20%\" },\n                  attrs: { id: \"topInstruction\" }\n                },\n                [\n                  _vm._v(\n                    \"\\n      \" +\n                      _vm._s(_vm.$t(\"spinningwheel.Tap to spin\")) +\n                      \"\\n    \"\n                  )\n                ]\n              )\n            ]\n          )\n        : _vm._e()\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"span\",\n    [\n      _c(\"loading-screen\", {\n        directives: [\n          {\n            name: \"show\",\n            rawName: \"v-show\",\n            value: _vm.loading,\n            expression: \"loading\"\n          }\n        ]\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"section\",\n        {\n          staticClass: \"section\",\n          staticStyle: { \"padding-top\": \"1rem\", \"padding-left\": \"1rem\" }\n        },\n        [\n          _c(\"div\", { staticClass: \"columns\" }, [\n            _c(\n              \"div\",\n              {\n                staticClass: \"column is-3\",\n                staticStyle: { \"font-family\": \"Quicksand\" }\n              },\n              [\n                _c(\n                  \"b-button\",\n                  { attrs: { id: \"createYourOwnLink\", tag: \"a\", href: \"/\" } },\n                  [\n                    _c(\"i\", { staticClass: \"fas fa-pencil-alt\" }),\n                    _vm._v(\n                      \" \" + _vm._s(_vm.$t(\"app.Create your own\")) + \"\\n        \"\n                    )\n                  ]\n                )\n              ],\n              1\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              { staticClass: \"column is-7\" },\n              [\n                _c(\"spinningwheel\", {\n                  ref: \"spinningwheel\",\n                  on: {\n                    \"wheel-started\": _vm.wheelStarted,\n                    \"name-changed\": _vm.nameChanged,\n                    \"wheel-stopped\": _vm.wheelStopped\n                  }\n                })\n              ],\n              1\n            )\n          ])\n        ]\n      ),\n      _vm._v(\" \"),\n      _c(\"winnerdialog\", {\n        ref: \"winnerdialog\",\n        on: {\n          \"remove-name\": _vm.removeName,\n          \"remove-name-all\": _vm.removeNameAll\n        }\n      }),\n      _vm._v(\" \"),\n      _c(\"winneranimation\", { ref: \"winneranimation\" })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { ref: \"overlay\", staticClass: \"animated-background\" }, [\n    _c(\"div\", { staticClass: \"content\" }, [\n      _c(\n        \"p\",\n        { staticClass: \"animated-text\", staticStyle: { color: \"#FFFFFF\" } },\n        [_vm._v(\"\\n      \" + _vm._s(_vm.winnerText) + \"\\n    \")]\n      )\n    ])\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"b-modal\",\n    {\n      attrs: { active: _vm.winnerDialogVisible, width: 640, scroll: \"keep\" },\n      on: {\n        \"update:active\": function($event) {\n          _vm.winnerDialogVisible = $event\n        }\n      }\n    },\n    [\n      _c(\"div\", { staticClass: \"modal-card\", staticStyle: { width: \"auto\" } }, [\n        _c(\"header\", { staticClass: \"modal-card-head\" }, [\n          _c(\n            \"div\",\n            { staticClass: \"modal-card-title\", staticStyle: { width: \"100%\" } },\n            [\n              _c(\"h5\", { staticClass: \"modal-title\" }, [\n                _vm._v(\n                  \"\\n          \" + _vm._s(_vm.winnerMessage) + \"\\n        \"\n                )\n              ])\n            ]\n          )\n        ]),\n        _vm._v(\" \"),\n        _c(\"section\", { staticClass: \"modal-card-body can-go-dark\" }, [\n          _c(\"h1\", { staticClass: \"title\" }, [\n            _vm.winnerImage\n              ? _c(\"img\", {\n                  staticStyle: { height: \"200px\", \"vertical-align\": \"middle\" },\n                  attrs: { src: _vm.winnerImage }\n                })\n              : _vm._e(),\n            _vm._v(\" \"),\n            _c(\"span\", [_vm._v(_vm._s(_vm.winnerText))])\n          ])\n        ]),\n        _vm._v(\" \"),\n        _c(\n          \"footer\",\n          {\n            staticClass: \"modal-card-foot\",\n            staticStyle: { \"justify-content\": \"flex-end\" }\n          },\n          [\n            _c(\n              \"b-button\",\n              {\n                attrs: { size: \"is-medium\" },\n                on: {\n                  click: function($event) {\n                    _vm.winnerDialogVisible = false\n                  }\n                }\n              },\n              [\n                _vm._v(\n                  \"\\n        \" + _vm._s(_vm.$t(\"common.Close\")) + \"\\n      \"\n                )\n              ]\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"b-button\",\n              {\n                directives: [\n                  {\n                    name: \"show\",\n                    rawName: \"v-show\",\n                    value: _vm.showRemoveButton,\n                    expression: \"showRemoveButton\"\n                  }\n                ],\n                ref: \"removeButton\",\n                attrs: { size: \"is-medium\", type: \"is-info\" },\n                on: { click: _vm.removeWinner }\n              },\n              [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.$t(\"winnerdialog.Remove\")) +\n                    \"\\n      \"\n                )\n              ]\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"b-button\",\n              {\n                directives: [\n                  {\n                    name: \"show\",\n                    rawName: \"v-show\",\n                    value: _vm.showRemoveAllButton,\n                    expression: \"showRemoveAllButton\"\n                  }\n                ],\n                attrs: { size: \"is-medium\", type: \"is-primary\" },\n                on: { click: _vm.removeWinnerAll }\n              },\n              [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.$t(\"winnerdialog.Remove all instances\")) +\n                    \"\\n      \"\n                )\n              ]\n            )\n          ],\n          1\n        )\n      ])\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","/*\nCopyright 2020 Google LLC\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    https://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nexport default class CircularArray {\n\n  constructor(array) {\n    this.array = array.slice(0);\n  }\n\n  getElement(index) {\n    while (index<0) {\n      index += this.array.length;\n    }\n    while (index>=this.array.length) {\n      index -= this.array.length;\n    }\n    return this.array[index];\n  }\n\n  setElement(index, value) {\n    while (index<0) {\n      index += this.array.length;\n    }\n    while (index>=this.array.length) {\n      index -= this.array.length;\n    }\n    this.array[index] = value;\n  }\n\n  getArray() {\n    return this.array;\n  }\n\n}\n","/*\nCopyright 2020 Google LLC\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    https://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport confetti from 'canvas-confetti';\n\nlet end;\nlet myColors;\n\nexport function launch(colors) {\n  myColors = colors;\n  end = Date.now() + 5 * 1000;\n  boom();\n}\n\nfunction boom() {\n  const interval = setInterval(function() {\n    if (Date.now() > end) {\n      return clearInterval(interval);\n    }\n    confetti({\n      startVelocity: 30,\n      particleCount: 100,\n      spread: 360,\n      ticks: 60,\n      origin: { x: Math.random(), y: Math.random() - 0.2 },\n      colors: myColors\n    });\n  }, 200);\n}\n","/*\nCopyright 2020 Google LLC\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    https://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport CircularArray from './CircularArray.js';\nimport NameHat from './NameHat.js';\nimport * as Util from './Util.js';\n\nexport default class DisplayNamePicker {\n\n  constructor() {\n    this.hat = new NameHat();\n    this.namesOnWheel = [];\n    this.allNamesFitOnWheel = true;\n    this.filledSlices = 0;\n  }\n\n  setNames(textboxNames, maxSlices, allowDuplicates) {\n    if (!allowDuplicates) {\n      // Remove duplicates.\n      textboxNames = [...new Set(textboxNames)];\n    }\n    if (textboxNames.length <= maxSlices) {\n      this.allNamesFitOnWheel = true;\n      this.namesOnWheel = textboxNames;\n    }\n    else {\n      this.allNamesFitOnWheel = false;\n      this.filledSlices = Math.round(maxSlices * 0.66);\n      this.hat.empty();\n      textboxNames.forEach(name => {\n        if (!this.namesOnWheel.includes(name)) {\n          this.hat.addName(name);\n        }\n      })\n      // Remove names from the wheel that are not in the textbox.\n      this.namesOnWheel = this.namesOnWheel.filter(name => {\n        return name == '' || textboxNames.includes(name);\n      });\n      this.namesOnWheel = this.adjustLength(this.namesOnWheel, maxSlices);\n    }\n  }\n\n  getDisplayNames() {\n    return this.namesOnWheel;\n  }\n\n  getNumberOfDisplayNames() {\n    return this.namesOnWheel.length;\n  }\n\n  tick(indexAtPointer) {\n    let updated = false;\n    if (!this.allNamesFitOnWheel) {\n      const startEmptyIndex = indexAtPointer + Math.ceil(this.filledSlices / 2);\n      const startFilledIndex = indexAtPointer + this.namesOnWheel.length - Math.floor(this.filledSlices / 2);\n      const circDisplayNames = new CircularArray(this.namesOnWheel);\n      for (var i=indexAtPointer; i<indexAtPointer+this.namesOnWheel.length; i++) {\n        if (i<startEmptyIndex && !circDisplayNames.getElement(i)) {\n          circDisplayNames.setElement(i, this.hat.pullRandomName());\n        }\n        if (i>=startEmptyIndex && i<startFilledIndex && circDisplayNames.getElement(i)) {\n          this.hat.addName(circDisplayNames.getElement(i));\n          circDisplayNames.setElement(i, '');\n        }\n        if (i>startFilledIndex && !circDisplayNames.getElement(i)) {\n          circDisplayNames.setElement(i, this.hat.pullRandomName());\n        }\n      }\n      const newNames = circDisplayNames.getArray();\n      updated = !Util.arraysEqual(this.namesOnWheel, newNames);\n      this.namesOnWheel = newNames;\n    }\n    return updated;\n  }\n\n  adjustLength(displayNames, maxSlices) {\n    while (displayNames.length < maxSlices) {\n      displayNames.push('');\n    }\n    while (displayNames.length > maxSlices) {\n      const lastName = displayNames[displayNames.length-1];\n      if (lastName) {\n        this.hat.addName(lastName);\n      }\n      displayNames = displayNames.slice(0, displayNames.length-1);\n    }\n    return displayNames;\n  }\n\n}\n","/*\nCopyright 2020 Google LLC\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    https://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport * as Util from './Util.js';\n\nexport function getFontSize(context, displayText, sliceCount, fontName, wheelRadius, hubRadius) {\n  return bisectSearch(context, wheelRadius, hubRadius, fontName, sliceCount,\n    displayText, 10, 200);\n}\n\nfunction bisectSearch(context, wheelRadius, hubRadius, fontName, slices, text, min, max) {\n  let fontSize;\n  while (true) {\n    fontSize = Math.round((min + max) / 2);\n    let font = fontSize + 'px ' + fontName;\n    if (textFits(context, wheelRadius, hubRadius, Math.PI/slices, text, font, fontSize)) {\n      min = fontSize;\n    }\n    else {\n      max = fontSize;\n    }\n    if (Math.abs(max-min)<2) {\n      break;\n    }\n  }\n  return fontSize;\n}\n\nfunction textFits(context, r, b, a, text, font, h) {\n  if (!text) return true;\n  context.font = font;\n  let w = context.measureText(text).width;\n  return Util.boxFits(a, r, b, w, h);\n}\n","/*\nCopyright 2020 Google LLC\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    https://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport './images/none.png';\nimport './third_party/publicdomainvectors/camera.png';\nimport './third_party/publicdomainvectors/cat.png';\nimport './third_party/publicdomainvectors/dog.png';\nimport './third_party/publicdomainvectors/dollar-sign.png';\nimport './third_party/publicdomainvectors/dragon.png';\nimport './images/cheers.png';\n\nexport default function ImageCache() {\n  this.images = new Object();\n  this.emptyImage = new Image();\n  // This dataUrl is a 1x1 transparent image.\n  this.emptyImage.src = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n\n  this.addImage = function(imageName) {\n    this.images[imageName] = new Image();\n    this.images[imageName].src = imageName;\n  }\n\n  this.getImage = function(imageName) {\n    if (imageName in this.images) {\n      // Do nothing.\n    }\n    else {\n      if (imageName) this.addImage(imageName);\n    }\n    if (this.images[imageName] && this.images[imageName].naturalHeight > 0) {\n      return this.images[imageName];\n    }\n    else {\n      // If the image is broken, return an empty image instead,\n      // to prevent Javascript errors when attempting to draw it.\n      return this.emptyImage;\n    }\n  };\n\n}\n","/*\nCopyright 2020 Google LLC\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    https://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nexport async function optimizeSliceImage(dataUrl) {\n  return new Promise(function(resolve, reject) {\n    const image = new Image();\n    image.onload = function() {\n      const canvas = createProportionalCanvas(image.width, image.height, 200);\n      drawStretched(canvas, image);\n      resolve(getOptimizedDataUrl(canvas, dataUrl));\n    }\n    image.src = dataUrl;\n  })\n}\n\nexport async function optimizeCenterImage(dataUrl) {\n  return new Promise(function(resolve, reject) {\n    const image = new Image();\n    image.onload = function() {\n      const canvas = createSquareCanvas(370);\n      if (!topLeftIsWhiteOrTransparent(image)) {\n        drawStretched(canvas, image, 'blur(4px)');\n      }\n      drawProportionalOnSquareCanvas(canvas, image);\n      resolve(getOptimizedDataUrl(canvas));\n    }\n    image.src = dataUrl;\n  })\n}\n\nexport function createInMemoryImage(width, height) {\n  const tempCanvas = document.createElement('canvas');\n  tempCanvas.width = width;\n  tempCanvas.height = height;\n  return tempCanvas;\n}\n\nexport function getTopLeftColor(image) {\n  let context = document.createElement('canvas').getContext('2d');\n  context.drawImage(image, 0, 0);\n  let data = context.getImageData(0, 0, 1, 1).data;\n  if (meantToBeWhite(data[0], data[1], data[2])) {\n    return '#FFFFFFFF';\n  }\n  else {\n    return getHexColor(data[0], data[1], data[2], data[3]);\n  }\n}\n\nexport function isTransparent(rgbaColor) {\n  let retVal = false;\n  let match = rgbaColor.match(/#\\w\\w\\w\\w\\w\\w(\\w\\w)/);\n  if (match) {\n    retVal = (match[1] == '00');\n  }\n  return retVal;\n}\n\nexport async function extractColors(dataUri) {\n  const Vibrant = (await import(/* webpackChunkName: \"vibrant\" */ 'node-vibrant')).default;\n  const img = new Image();\n  img.src = dataUri;\n  return new Promise(function(resolve, reject) {\n    img.onload = async function() {\n      const v = new Vibrant(img);\n      const palette = await v.getPalette();\n      resolve([\n        palette.Vibrant.hex,\n        palette.LightVibrant.hex,\n        palette.DarkVibrant.hex,\n        palette.Muted.hex,\n        palette.LightMuted.hex,\n        palette.DarkMuted.hex\n      ]);\n    }\n  })\n}\n\nfunction createProportionalCanvas(imageWidth, imageHeight, maxSide) {\n  let xScale = maxSide / imageWidth;\n  let yScale = maxSide / imageHeight;\n  let scale = Math.max(xScale, yScale);\n  const canvas = document.createElement('canvas');\n  canvas.width = imageWidth * scale;\n  canvas.height = imageHeight * scale;\n  return canvas;\n}\n\nfunction createSquareCanvas(side) {\n  const canvas = document.createElement('canvas');\n  canvas.width = side;\n  canvas.height = side;\n  return canvas;\n}\n\nfunction topLeftIsWhiteOrTransparent(image) {\n  const hexColor = getTopLeftColor(image);\n  return (hexColor=='#FFFFFFFF' || hexColor.slice(7)=='FF');\n}\n\nfunction topLeftIsTransparent(context) {\n  let data = context.getImageData(0, 0, 1, 1).data;\n  return (data[3] < 5);\n}\n\nfunction meantToBeWhite(r, g, b) {\n  // An edge effect and slight transparence probably made the\n  // color slightly off-white.\n  return (r==g && r==b && r>230);\n}\n\nfunction getHexColor(r, g, b, a) {\n  return `#${hex(r)}${hex(g)}${hex(b)}${hex(a)}`;\n}\n\nconst hex = d => Number(d).toString(16).padStart(2, '0');\n\nfunction drawStretched(canvas, image, filter) {\n  const context = canvas.getContext('2d');\n  context.save();\n  if (filter) context.filter = filter;\n  // Draw image with full bleed to reduce edge artifacts.\n  context.drawImage(image, -2, -2, canvas.width+4, canvas.height+4);\n  context.restore();\n}\n\nfunction drawProportionalOnSquareCanvas(canvas, image) {\n  const canvasWidth = canvas.width;\n  const scale = canvasWidth / Math.max(image.width, image.height);\n  const width = image.width * scale;\n  const x = (canvasWidth - width) / 2;\n  const height = image.height * scale;\n  const y = (canvasWidth - height) / 2;\n  const context = canvas.getContext('2d');\n  context.drawImage(image, x, y, width, height);\n}\n\nfunction getOptimizedDataUrl(canvas, originalDataUrl) {\n  let newDataUrl;\n  if (topLeftIsTransparent(canvas.getContext(\"2d\"))) {\n    newDataUrl = canvas.toDataURL('image/png');\n  }\n  else {\n    newDataUrl = canvas.toDataURL('image/jpeg', 0.5);\n  }\n  if (originalDataUrl && originalDataUrl.length<newDataUrl.length) {\n    return originalDataUrl;\n  }\n  else {\n    return newDataUrl;\n  }\n}\n","/*\nCopyright 2020 Google LLC\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    https://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nconst nonEnglishDomains = [ {partialName: 'noms', locale: 'fr'} ];\nconst locales = [\n  {name: 'en', humanName: 'English',  googleName: 'en_US', twitterName: 'en', file: 'en-US.json'},\n  {name: 'fr', humanName: 'Français', googleName: 'fr_FR', twitterName: 'fr', file: 'fr-FR.json'},\n  {name: 'sv', humanName: 'Svenska',  googleName: 'sv_SE', twitterName: 'sv', file: 'sv-SE.json'},\n]\n\nexport function getLocale(hostName, pathName) {\n  return getPathLocale(pathName) || getDomainLocale(hostName);\n}\n\nexport function getRelativeUrl(hostName, locale) {\n  return getDomainLocale(hostName)==locale ? '/' : `/${locale}/`;\n}\n\nexport function getAbsoluteUrl(hostName, locale, path) {\n  const link = hostName + getRelativeUrl(hostName, locale) + '/' + path;\n  return link.replace('//', '/');\n}\n\nexport function getLoginLocale(providerName, locale) {\n  const matchedLocales = locales.filter(l => l.name == locale);\n  if (providerName.toLowerCase() == 'twitter') {\n    return matchedLocales.reduce((acc, current) => current.twitterName, 'en_US');\n  }\n  else {\n    return matchedLocales.reduce((acc, current) => current.googleName, 'en_US');\n  }\n}\n\nexport function getOfficialList(hostName) {\n  return locales.map(l => {\n    return {\n      name: l.name,\n      url: hostName + getRelativeUrl(hostName, l.name)\n    }\n  }).filter(l => l.name!='en-PI');\n}\n\nexport function getMessagesFileName(locale) {\n  return locales.filter(l => l.name==locale)\n                .reduce((acc, current) => current.file, 'en-US.json');\n}\n\nexport function getLangTipLocale(systemLocale, navigatorLanguages) {\n  if (!navigatorLanguages || !navigatorLanguages.length) return '';\n  const userLocale = navigatorLanguages[0];\n  const shouldShowLanguageTip = (!areSameLocale(userLocale, systemLocale) &&\n                                 localeIsSupported(userLocale));\n  return shouldShowLanguageTip ? getClosestSupportedLocale(userLocale) : '';\n}\n\nexport function getNamesForAll() {\n  return locales\n           .map(locale => ({name: locale.name, humanName: locale.humanName}))\n           .sort((a, b) => a.humanName.localeCompare(b.humanName))\n}\n\nexport function getDomainLocale(hostName) {\n  return nonEnglishDomains\n            .filter(domain => hostName.includes(domain.partialName))\n            .reduce((acc, current) => current.locale, 'en');\n}\n\nfunction areSameLocale(locale1, locale2) {\n  if (locale1.length==locale2.length) {\n    return (locale1 == locale2);\n  }\n  else {\n    return (getLangFromLocale(locale1) == getLangFromLocale(locale2));\n  }\n}\n\nfunction getLangFromLocale(locale) {\n  return locale.split('-')[0];\n}\n\nfunction localeIsSupported(locale) {\n  return !!locales.find(l => areSameLocale(locale, l.name));\n}\n\nfunction getClosestSupportedLocale(locale) {\n  return locales.find(l => areSameLocale(locale, l.name)).name;\n}\n\nfunction getPathLocale(pathName) {\n  return locales\n            .map(locale => locale.name)\n            .find(locale => {\n              const re1 = new RegExp(`\\\\/${locale}\\\\/?$`);\n              const re2 = new RegExp(`\\\\/${locale}\\\\/`);\n              return (pathName.match(re1) || pathName.match(re2));\n            })\n}\n","/*\nCopyright 2020 Google LLC\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    https://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nexport default class NameHat {\n\n  constructor() {\n    this.names = [];\n  }\n\n  setNames(names) {\n    this.names = names;\n  }\n\n  getNames() {\n    return this.names;\n  }\n\n  empty() {\n    this.names = [];\n  }\n\n  numberOfNames() {\n    return this.names.length;\n  }\n\n  pullRandomName() {\n    const name = this.getRandomName();\n    const indexOfName = this.names.indexOf(name);\n    if (indexOfName > -1) {\n      this.names.splice(indexOfName, 1);\n    }\n    return name;\n  }\n\n  addName(name) {\n    this.names.push(name);\n  }\n\n  getRandomName() {\n    return this.names[Math.floor(Math.random()*this.names.length)];\n  }\n\n}\n","/*\nCopyright 2020 Google LLC\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    https://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport * as Locales from './Locales.js';\n\nexport default class Path {\n\n  constructor(location) {\n    this.protocol = location.protocol;\n    this.host = location.host;\n    this.locale = Locales.getLocale(location.host, location.pathname);\n    const match = location.pathname.match(/\\w\\w\\w-\\w\\w\\w/);\n    this.sharedWheel = match ? match[0].toLowerCase() : '';\n  }\n\n  setPathPrefix(prefix) {\n    this.prefix = prefix;\n  }\n\n  getAbsoluteUrl() {\n    return [\n      this.protocol, '/', this.host, this.prefix,\n      Locales.getDomainLocale(this.host)==this.locale ? '' : this.locale,\n      this.sharedWheel\n    ].filter(x => x).join('/').replace('///', '//') + '/';\n  }\n\n  getAbsoluteLocalizedRootUrl() {\n    return [\n      this.protocol, '/', this.host,\n      Locales.getDomainLocale(this.host)==this.locale ? '' : this.locale\n    ].filter(x => x).join('/').replace('///', '//') + '/';\n  }\n\n}\n","/*\nCopyright 2020 Google LLC\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    https://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport * as Util from './Util.js';\nimport * as ImageUtil from './ImageUtil.js';\n\n\nexport default function PieSlice(radians, wheelRadius, hubRadius, color, displayText, image) {\n  this.radians = radians;\n  this.wheelRadius = wheelRadius;\n  this.hubRadius = hubRadius;\n  this.color = color;\n  this.displayText = displayText;\n  this.image = image;\n\n  this.draw = function(context) {\n    if (!this.displayText && !this.image) return;\n    context.save();\n    let bgColor = this.color;\n    drawBackColor(context, this.wheelRadius, this.radians, bgColor);\n    if (this.image) {\n      let imgBgColor = ImageUtil.getTopLeftColor(this.image);\n      drawBackColor(context, this.wheelRadius, this.radians, imgBgColor);\n      if (!ImageUtil.isTransparent(imgBgColor)) {\n        bgColor = imgBgColor;\n      }\n      drawImage(context, this.radians/2, this.wheelRadius, this.hubRadius, this.image);\n    }\n    if (this.displayText) {\n      drawText(context, this.wheelRadius, this.displayText, bgColor, this.image);\n    }\n    drawBorder(context, this.wheelRadius, this.radians);\n    context.restore();\n  }\n\n  function drawBackColor(context, radius, radians, color) {\n    context.beginPath();\n    context.moveTo(0, 0);\n    context.arc(0, 0, radius, -radians/2, radians/2);\n    context.lineTo(0, 0);\n    context.fillStyle = color;\n    context.fill();\n  }\n\n  function drawText(context, radius, displayText, bgColor, image) {\n    context.lineJoin = 'round';\n    context.textBaseline = 'middle';\n    context.textAlign = 'end';\n    let color = getTextColor(bgColor);\n    if (image) {\n      context.lineWidth = 4;\n      context.strokeStyle = color.outline;\n      context.strokeText(displayText, radius, 0);\n    }\n    context.fillStyle = color.fill;\n    context.fillText(displayText, radius, 0);\n  }\n\n  function drawBorder(context, radius, radians) {\n    context.beginPath();\n    context.moveTo(0, 0);\n    context.arc(0, 0, radius, -radians/2, radians/2);\n    context.lineTo(0, 0);\n    context.lineWidth = 1;\n    context.strokeStyle = '#333333';\n    context.stroke();\n  }\n\n  function drawImage(context, a, r, b, image) {\n    let p = getImagePos(a, r, b, image.height/image.width);\n    context.drawImage(image, p.x, p.y, p.w, p.h);\n  }\n\n  function getImagePos(a, r, b, imageRatio) {\n    let w, h;\n    for (w=r; w>0; w--) {\n      h = w * imageRatio;\n      if (Util.boxFits(a, r, b, w, h)) {\n        break;\n      }\n    }\n    return {\n      x: Math.max(h*Math.cos(a)/(2*Math.sin(a)), b),\n      y: -h/2,\n      w: w,\n      h: h\n    }\n  }\n\n  function getTextColor(bgColor) {\n    if (!bgColor) return {fill: '#000000', outline: '#FFFFFF'};\n    let color = (bgColor.charAt(0) === '#') ? bgColor.substring(1, 7) : bgColor;\n    let r = parseInt(color.substring(0, 2), 16);\n    let g = parseInt(color.substring(2, 4), 16);\n    let b = parseInt(color.substring(4, 6), 16);\n    let uicolors = [r / 255, g / 255, b / 255];\n    let c = uicolors.map((col) => {\n      if (col <= 0.03928) {\n        return col / 12.92;\n      }\n      return Math.pow((col + 0.055) / 1.055, 2.4);\n    });\n    let L = (0.2126 * c[0]) + (0.7152 * c[1]) + (0.0722 * c[2]);\n    if (L > 0.179) {\n      return {fill: '#000000', outline: '#FFFFFF'};\n    }\n    else \n    {\n      return {fill: '#FFFFFF', outline: '#000000'};\n    }\n  }\n\n}\n","/*\nCopyright 2020 Google LLC\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    https://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nexport default function Preferences() {\n  this.appInfoVisible = false;\n  this.darkMode = true;\n\n  this.loadJson = function(jsonString) {\n    let obj = JSON.parse(jsonString);\n    this.copyPropertiesFrom(obj);\n  }\n\n  this.getJson = function() {\n    var keys = Object.keys(this);\n    var retVal = {};\n    keys.forEach(key => {\n      retVal[key] = this[key];\n    });\n    return JSON.stringify(retVal);\n  }\n\n  this.getValues = function() {\n    return JSON.parse(this.getJson());\n  }\n\n  this.loadValues = function(values) {\n    this.copyPropertiesFrom(values);\n  }\n\n  this.clone = function() {\n    const clone = new Preferences();\n    clone.loadValues(this.getValues());\n    return clone;\n  }\n\n  this.copyPropertiesFrom = function(obj) {\n    Object.assign(this, JSON.parse(JSON.stringify(obj)));\n  }\n\n}\n","/*\nCopyright 2020 Google LLC\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    https://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport '@babel/polyfill';\nimport 'whatwg-fetch';\nimport * as Util from './Util.js';\n\nexport async function createSharedWheel(editable, wheelConfig) {\n  const payload = {editable: editable, wheelConfig: wheelConfig.getValues()};\n  const url = process.env.FUNCTION_PREFIX + '/createSharedWheel2';\n  const response = await fetch(url, {\n    method: 'POST',\n    mode: 'cors',\n    headers: {'Content-Type': 'application/json'},\n    body: JSON.stringify(payload)\n  });\n  const respObj = await response.json();\n  if (respObj.hasOwnProperty('error')) throw respObj.error;\n  return respObj.path;\n}\n\nexport async function logSharedWheelRead(path) {\n  const payload = {path: path};\n  const url = process.env.FUNCTION_PREFIX + '/logSharedWheelRead';\n  const response = await fetch(url, {\n    method: 'POST',\n    mode: 'cors',\n    headers: {'Content-Type': 'application/json'},\n    body: JSON.stringify(payload)\n  });\n}\n\nexport async function getSharedWheel(path) {\n  const url = process.env.FUNCTION_PREFIX + `/getSharedWheel2/${path}`;\n  const response = await fetch(url, {\n    method: 'GET',\n    mode: 'cors'\n  });\n  const respObj = await response.json();\n  return respObj.wheelConfig;\n}\n\nexport async function fetchSocialMediaUsers(searchTerm) {\n  const url = process.env.FUNCTION_PREFIX +\n    `/getTwitterUserNames2/${encodeURIComponent(searchTerm)}`;\n  const response = await fetch(url, {\n    method: 'GET',\n    mode: 'cors'\n  });\n  const respObj = await response.json();\n  return respObj;\n}\n\nexport async function convertAccount(idToken) {\n  const url = process.env.FUNCTION_PREFIX + '/convertAccount';\n  try {\n    const response = await fetch(url, {\n      method: 'POST',\n      mode: 'cors',\n      headers: {'authorization': idToken}\n    });\n    await response.json();\n  }\n  catch(ex) {\n    Util.trackException(ex);\n  }\n}\n","/*\nCopyright 2020 Google LLC\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    https://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\n// ----------------------------------------------------------------------\n// Call setTimestamp() on this object every animation frame. You can then\n// call shouldTick() to learn if you should advance the model by 1/60th\n// of a seccond. Call shouldTick() repeatedly (and advance the model each\n// time) until it returns false.\n// ----------------------------------------------------------------------\n\nexport default function Ticker() {\n  this.lastFrameTimeMs = 0;\n  this.delta = 0;\n  this.timestep = 1000 / 60;\n\n  this.setTimestamp = function(timestamp) {\n    if (this.lastFrameTimeMs == 0) {\n      // This is the first frame. We need to run tick once to init.\n      this.delta = this.timestep;\n    }\n    else {\n      this.delta += timestamp - this.lastFrameTimeMs;\n    }\n    this.lastFrameTimeMs = timestamp;\n  }\n\n  this.shouldTick = function() {\n    var retVal = (this.delta >= this.timestep);\n    if (retVal) this.delta -= this.timestep;\n    return retVal;\n  }\n\n}\n","/*\nCopyright 2020 Google LLC\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    https://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport '@babel/polyfill';\n\nlet getHtmlAsTextCache = {};\n\nexport function getHtmlAsText(html) {\n  if (!(html in getHtmlAsTextCache)) {\n    let retVal;\n    try {\n      let doc = new DOMParser().parseFromString(html, \"text/html\");\n      retVal = doc.documentElement.textContent;\n    }\n    catch (e) {\n      let replacements = [\n        ['&amp;', '&'],\n        ['&nbsp;', ' '],\n        ['&lt;', '<'],\n        ['&gt;', '>'],\n      ]\n      retVal = html;\n      replacements.forEach(element => {\n        let re = new RegExp(element[0], 'g');\n        retVal = retVal.replace(re, element[1]);\n      });\n    }\n    getHtmlAsTextCache[html] = retVal;\n  }\n  return getHtmlAsTextCache[html];\n}\n\nexport function browserCanHandlePersistance(userAgent) {\n  // Exclude iOS 12.2 due to a bug in that OS:\n  // https://github.com/firebase/firebase-js-sdk/issues/1670\n  return (userAgent.indexOf('OS 12_2 like Mac OS X') == -1);\n}\n\nexport function arraysEqual(a, b) {\n  if (a === b) return true;\n  if (a == null || b == null) return false;\n  if (a.length != b.length) return false;\n  for (var i = 0; i < a.length; ++i) {\n    if (a[i] !== b[i]) return false;\n  }\n  return true;\n}\n\nexport function boxFits(a, r, b, w, h) {\n  let d = Math.sqrt(Math.pow(r,2)-Math.pow(h/2,2)) -\n          Math.max(h*Math.cos(a)/(2*Math.sin(a)), b);\n  return d >= w;\n}\n\nexport function extractDisplayText(entry, shorten) {\n  if (entry) {\n    let match = entry.match(/<img.*?src=\"(.*?)\".*?>/);\n    if (match) {\n      entry = entry.replace(match[0], '');\n    }\n  }\n  let displayText = '';\n  if (entry) {\n    displayText = getHtmlAsText(entry);\n    if (shorten) {\n      const MAX_LENGTH = 18;\n      if (displayText.length > MAX_LENGTH) {\n        displayText = displayText.substring(0, MAX_LENGTH-1) + '…';\n      }\n    }\n    // Add font-proportional space between name and edges of wheel.\n    displayText = ' ' + displayText + ' ';\n  }\n  return displayText;\n}\n\nexport function extractImage(entry) {\n  let imageData = '';\n  if (entry) {\n    let match = entry.match(/<img.*?src=\"(.*?)\".*?>/);\n    if (match) {\n      imageData = match[1];\n    }\n  }\n  return imageData;\n}\n\nexport function shuffleArray(inputArray) {\n  const array = inputArray.slice(0);\n  for (var i = array.length - 1; i > 0; i--) {\n    var j = Math.floor(Math.random() * (i + 1));\n    var temp = array[i];\n    array[i] = array[j];\n    array[j] = temp;\n  }\n  return array;\n}\n\nexport function getOccurencesInArray(array, entry) {\n  return array.reduce(function(accumulator, currentValue) {\n    return accumulator + (currentValue == entry ? 1 : 0);\n  }, 0)\n}\n\nexport function browserIsIE() {\n  return !!window.document.documentMode;\n}\n\nexport function browserIsIEOrOldEdge(userAgent) {\n  if (!userAgent) return false;\n  const re = new RegExp(' MSIE \\\\d|Trident\\/|Edge\\/');\n  return !!userAgent.match(re);\n}\n\nexport function sortWheelEntries(entries) {\n  return entries.slice(0).sort((a, b) => {\n    return a.localeCompare(b, 'en', { numeric: true, sensitivity: 'base' });\n  })\n}\n\nexport function isTouchScreen() {\n  const retVal = 'ontouchstart' in window ||\n    window.DocumentTouch && document instanceof window.DocumentTouch ||\n    navigator.maxTouchPoints > 0 ||\n    window.navigator.msMaxTouchPoints > 0;\n  return retVal;\n}\n\nexport function sanitizeWheelTitle(title) {\n  let retVal = title;\n  retVal = retVal.replace(/\\//g, '\\\\');\n  if (retVal == '..') retVal = '.. ';\n  if (retVal == '.') retVal = '. ';\n  if (retVal == '') retVal = '?';\n  if (retVal.length > 100) {\n    retVal = retVal.substring(0, 97) + '...';\n  }\n  return retVal;\n}\n\nexport function getAddedEntries(oldEntries, newEntries) {\n  if (!oldEntries) oldEntries = [];\n  if (!newEntries) newEntries = [];\n  return newEntries.filter(x => !oldEntries.includes(x));\n}\n\nexport function initTracking() {\n  window.onerror = function(message, source, lineno, colno, error) {\n    try {\n      if (error) message = error.toString();\n      trackEvent('window.onerror', message, navigator.userAgent);\n    }\n    catch (ex) {\n      console.error(ex);\n    }\n  }\n}\n\nexport function trackEvent(eventCategory, eventAction, eventLabel) {\n  if (location.host.startsWith('localhost')) return;\n  if (typeof ga !== 'undefined') {\n    ga('send', 'event', eventCategory, eventAction, eventLabel);\n  }\n}\n\nexport function trackException(exception, extraData) {\n  console.error(exception);\n}\n\nexport function escapeHtml(unsafe) {\n  return unsafe\n       .replace(/&/g, \"&amp;\")\n       .replace(/</g, \"&lt;\")\n       .replace(/>/g, \"&gt;\")\n       .replace(/\"/g, \"&quot;\")\n       .replace(/'/g, \"&#039;\");\n}\n\nexport function colorIsWhite(color) {\n  if (!color) return true;\n  return (color.toLowerCase() == '#ffffff');\n}\n\nexport function getElementsByClassName(classNames) {\n  const retVal = [];\n  for (const className of classNames) {\n    for (const el of document.getElementsByClassName(className)) {\n      retVal.push(el);\n    }\n  }\n  return retVal;\n}\n\nexport function updateColorStyles(darkMode, darkModeColor, pageColor) {\n  const sheet = [...document.styleSheets].find(\n    sheet => sheet.href &&\n    (sheet.href.includes('index.css') || sheet.href.includes('admin.css'))\n  );\n  const rule = [...sheet.rules].find(rule => rule.selectorText=='.can-go-dark');\n  if (darkMode) {\n    rule.style.color = '#fff';\n    rule.style.backgroundColor = darkModeColor;\n    document.documentElement.style.backgroundColor = '#000';\n    document.body.style.backgroundColor = '#000';\n  }\n  else {\n    rule.style.color = '';\n    rule.style.backgroundColor = '';\n    document.documentElement.style.backgroundColor = pageColor;\n    document.body.style.backgroundColor = pageColor;\n  }\n  //document.body.style.backgroundImage = \"url('./images/background.png')\";\n}\n","/*\nCopyright 2020 Google LLC\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    https://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport WheelPainter from './WheelPainter.js';\nimport DisplayNamePicker from './DisplayNamePicker.js';\n\nexport default function Wheel() {\n  this.colors = [];\n  this.angle = 0;\n  this.speed = 0.005;\n  this.stopSpeed = 0.0001;\n  this.acceleration = 0.01;\n  this.deceleration = 0;\n  this.nameLastTick = '';\n  this.state = new NotSpunState();\n  this.wheelPainter = new WheelPainter();\n  this.namePicker = new DisplayNamePicker();\n  this.doneSpinningCallback = () => {};\n  this.nameChangedCallback = () => {};\n\n  this.setNames = function(names, maxSlices, allowDuplicates) {\n    if (this.state.editAllowed()) {\n      this.namePicker.setNames(names, maxSlices, allowDuplicates);\n      this.wheelPainter.refresh();\n    }\n  }\n\n  this.refresh = function() {\n    this.wheelPainter.refresh();\n  }\n\n  this.configure = function(colors, centerImage, spinTime, slowSpin, hubSize, pageBackgroundColor) {\n    if (this.state.editAllowed()) {\n      this.colors = colors;\n      this.centerImage = centerImage;\n      this.spinTime = spinTime;\n      this.acceleration = (slowSpin ? 0.001 : 0.01);\n      this.hubSize = hubSize;\n      this.pageBackgroundColor = pageBackgroundColor;\n      this.wheelPainter.refresh();\n    }\n  }\n\n  this.tick = function() {\n    this.state.tick(this);\n    const updated = this.namePicker.tick(this.getIndexAtPointer());\n    if (updated) this.wheelPainter.refresh();\n  }\n\n  this.click = function(nameChangedCallback, doneSpinningCallback) {\n    this.nameChangedCallback = nameChangedCallback;\n    this.doneSpinningCallback = doneSpinningCallback;\n    this.state.click(this);\n  }\n\n  this.spinIsDone = function() {\n    this.doneSpinningCallback(this.getNameAtPointer());\n  }\n\n  this.isSpinning = function() {\n    return this.state.isSpinning();\n  }\n\n  this.setRandomAngle = function() {\n    this.angle = Math.random() * 2 * Math.PI;\n  }\n\n  this.advance = function() {\n    this.indexFromLastTick = this.indexFromThisTick;\n    this.indexFromThisTick = this.getIndexAtPointer();\n    if (this.indexFromThisTick != this.indexFromLastTick) {\n      this.nameChangedCallback();\n    }\n    this.angle += this.speed;\n    if (this.angle > Math.PI * 2) {\n      this.angle -= Math.PI * 2;\n    }\n  }\n\n  this.getIndexAtPointer = function() {\n    const numberOfNames = this.namePicker.getNumberOfDisplayNames();\n    var radiansPerSegment = 2 * Math.PI / numberOfNames;\n    var index = this.angle / radiansPerSegment;\n    index = Math.round(index);\n    if (index >= numberOfNames) {\n      index = 0;\n    }\n    return index;\n  }\n\n  this.getNameAtPointer = function() {\n    return this.namePicker.getDisplayNames()[this.getIndexAtPointer()];\n  }\n\n  this.resetRotation = function() {\n    this.angle = 0;\n  }\n\n  this.calculateDeceleration = function() {\n    var decelTicks = (this.spinTime - 1) * 60;\n    var startSpeed = 60 * this.acceleration;\n    this.deceleration = Math.exp(Math.log(this.stopSpeed/startSpeed)/decelTicks);\n  }\n\n  this.accelerate = function() {\n    this.speed += this.acceleration;\n  }\n\n  this.decelerate = function() {\n    this.speed = this.speed * this.deceleration;\n  }\n\n  this.isBelowStopSpeed = function() {\n    return (this.speed < this.stopSpeed);\n  }\n\n  this.draw = function(context) {\n    this.wheelPainter.draw(context, this.angle, this.namePicker.getDisplayNames(),\n                          this.colors, this.centerImage, this.hubSize,\n                          this.pageBackgroundColor);\n  }\n}\n\n\n\n\nfunction NotSpunState() {\n\n  this.tick = function(wheel) {\n    wheel.advance();\n  }\n\n  this.click = function(wheel) {\n    wheel.calculateDeceleration();\n    wheel.state = new AcceleratingState();\n  }\n\n  this.editAllowed = function() {\n    return true;\n  }\n\n  this.isSpinning = function() {\n    return false;\n  }\n\n}\n\n\nfunction AcceleratingState() {\n  this.ticks = 0;\n  this.MAX_AGE = 60;\n\n  this.tick = function(wheel) {\n    wheel.accelerate();\n    wheel.advance();\n    this.ticks += 1;\n    if (this.ticks > this.MAX_AGE) {\n      wheel.setRandomAngle();\n      wheel.state = new SpinningState();\n    }\n  }\n\n  this.click = function(wheel) {\n  }\n\n  this.editAllowed = function() {\n    return false;\n  }\n\n  this.isSpinning = function() {\n    return true;\n  }\n\n}\n\n\nfunction SpinningState() {\n\n  this.tick = function(wheel) {\n    wheel.decelerate();\n    wheel.advance();\n    if (wheel.isBelowStopSpeed()) {\n      wheel.speed = 0;\n      wheel.state = new OpenForEditState();\n      wheel.spinIsDone();\n    }\n  }\n\n  this.click = function(wheel) {\n  }\n\n  this.editAllowed = function() {\n    return false;\n  }\n\n  this.isSpinning = function() {\n    return true;\n  }\n\n}\n\n\nfunction OpenForEditState() {\n\n  this.tick = function(wheel) {\n  }\n\n  this.click = function(wheel) {\n    wheel.calculateDeceleration();\n    wheel.state = new AcceleratingState();\n  }\n\n  this.editAllowed = function() {\n    return true;\n  }\n\n  this.isSpinning = function() {\n    return false;\n  }\n\n}\n\n","/*\nCopyright 2020 Google LLC\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    https://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport * as Util from './Util.js';\n\nexport default function WheelConfig(winnerMessage) {\n  this.title = 'Drink Roulette';\n  this.names = [\n    'Margarita', 'Rum Breeze', 'Mai Tai', 'Long Island IceTea',\n    'Sex On The Beach', 'Rum Runner', 'Amaretto Sour', 'Lemon Drop',\n    'Hemingway Daiquiri', 'Apple Pie', 'Mango Margarita', 'Whiskey Sour',\n    'Cosmopolitan', 'Old Fashioned', 'Uptown Rocks', 'Kamikaze', 'Aviation',\n    'Gimlet', 'Northside', 'Mint Julep', 'Jalapeño LimeShrub', 'Manhattan',\n    'Whiskey Smash', 'Gin Martini', 'Sazerac', 'Screwdriver', 'Negroni', 'Spiced Coffee',\n    'Boulevardier', 'Matcha Martini', 'Hurricane', 'Piña Colada', 'Sangria'\n  ];\n  \n    this.colorSettings = [\n    {color: '#545981', enabled: true},\n    {color: '#FEF5A5', enabled: true},\n    {color: '#98803C', enabled: true},\n    {color: '#7D7582', enabled: true},\n    {color: '#E1E1E6', enabled: true},\n    {color: '#3E3D5E', enabled: true},\n    /*{color: '#3369E8', enabled: true},\n    {color: '#D50F25', enabled: true},\n    {color: '#EEB211', enabled: true},\n    {color: '#009925', enabled: true},\n    {color: '#000000', enabled: false},\n    {color: '#000000', enabled: false},\n    */\n  ];\n  this.pageBackgroundColor = '#000000';\n  this.pictureType = 'gallery';\n  this.galleryPicture = 'images/cheers.png';\n  this.customPictureName = '';\n  this.customPictureDataUri = '';\n  this.allowDuplicates = true;\n  this.duringSpinSound = 'ticking-sound';\n  this.afterSpinSound = 'celebration-sound';\n  this.maxNames = 150;\n  this.spinTime = 7;\n  this.playCheers = true;\n  this.launchConfetti = false;\n  this.animateWinner = true;\n  this.autoRemoveWinner = false;\n  this.displayWinnerDialog = false;\n  this.winnerMessage = winnerMessage || 'Bottoms Up!';\n  this.playClickWhenWinnerRemoved = false;\n  this.hubSize = 'S';\n  this.slowSpin = false;\n\n  this.loadJson = function(jsonString) {\n    let obj = JSON.parse(jsonString);\n    this.copyPropertiesFrom(obj);\n  }\n\n  this.getJson = function() {\n    var keys = Object.keys(this);\n    var retVal = {};\n    keys.forEach(key => {\n      retVal[key] = this[key];\n    });\n    return JSON.stringify(retVal);\n  }\n\n  this.getValues = function() {\n    return JSON.parse(this.getJson());\n  }\n\n  this.loadValues = function(values) {\n    this.copyPropertiesFrom(values);\n  }\n\n  this.clone = function() {\n    const clone = new WheelConfig();\n    clone.loadValues(this.getValues());\n    return clone;\n  }\n\n  this.getDefaultColorSettings = function() {\n    return new WheelConfig().colorSettings;\n  }\n\n  this.getDefaultNames = function() {\n    return new WheelConfig().names;\n  }\n\n  this.setCustomPicture = function(name, dataUri) {\n    this.customPictureName = name;\n    this.customPictureDataUri = dataUri;\n    this.pictureType = 'uploaded';\n  }\n  \n  this.getWheelImage = function() {\n    if (this.pictureType == 'none') {\n      return null;\n    }\n    if (this.pictureType == 'gallery') {\n      if (this.galleryPicture) {\n        return this.galleryPicture;\n      }\n    }\n    if (this.pictureType == 'uploaded') {\n      if (this.customPictureDataUri) {\n        return this.customPictureDataUri;\n      }\n    }\n    return null;\n  }\n\n  this.shouldPlayTicks = function() {\n    return (this.duringSpinSound=='ticking-sound');\n  }\n\n  this.setColors = function(colorValues, enabledValues) {\n    for (var i=0; i<6; i++) {\n      this.colorSettings[i] = {color: colorValues[i], enabled: enabledValues[i]};\n    }\n  }\n\n  this.getCoalescedColors = function() {\n    var retVal = [];\n    for (var i=0; i<6; i++) {\n      if (this.colorSettings[i].enabled) {\n        retVal.push(this.colorSettings[i].color);\n      }\n    }\n\n    if (retVal.length == 0) {\n      retVal.push('#CCCCCC');\n    }\n    return retVal;\n  }\n\n  this.isTooBigForDatabase = function() {\n    return (this.getJson().length > 990000);\n  }\n\n  this.copyPropertiesFrom = function(obj) {\n    Object.assign(this, JSON.parse(JSON.stringify(obj)));\n    this.convertOldData();\n  }\n\n  this.convertOldData = function() {\n    if (Array.isArray(this.names)) {\n      this.names = this.names.map(\n        // Convert old height metric to new height metric.\n        name => name.replace(/height=\"25\"/, 'style=\"height:25px\"')\n      );\n      // Remove any entries that are unprintable characters.\n      this.names = this.names.filter(name => name.trim());\n    }\n    if (Array.isArray(this.entries)) {\n      // Convert from new \"entries\" format to old \"names\" format.\n      this.names = this.entries.map(entry => {\n        let retVal = '';\n        if (entry.image) {\n          retVal += `<img src=\"${entry.image}\" style=\"height:25px;font-size:1rem;\">`;\n        }\n        if (entry.text) {\n          retVal += Util.escapeHtml(entry.text);\n        }\n        return retVal;\n      });\n      delete this.entries;\n    }\n    this.maxNames = parseInt(this.maxNames);\n    this.spinTime = parseInt(this.spinTime);\n    if (this.playTicks===false) {\n      this.duringSpinSound = 'no-sound';\n    }\n    delete this.playTicks;\n    if (this.playCheers===false) {\n      this.afterSpinSound = 'no-sound';\n    }\n    delete this.playCheers;\n  }\n\n}\n","/*\nCopyright 2020 Google LLC\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    https://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport Path from './Path.js';\nimport * as ServerFunctions from './ServerFunctions.js';\n\nexport async function load(windowLocation) {\n  let wheelConfig;\n  let redirectUrl;\n  const path = new Path(windowLocation);\n  if (path.sharedWheel) {\n    const result = await ServerFunctions.getSharedWheel(path.sharedWheel);\n    if (result.editable==false) {\n      path.setPathPrefix('view');\n      redirectUrl = path.getAbsoluteUrl();\n    }\n    if (!result.wheelConfig) {\n      throw `Wheel \"${path.sharedWheel}\" not found!`\n    }\n    wheelConfig = result.wheelConfig;\n  }\n  return {\n    redirectUrl: redirectUrl,\n    wheelConfig: wheelConfig,\n    sharedWheelPath: path.sharedWheel\n  };\n}\n","/*\nCopyright 2020 Google LLC\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    https://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport ImageCache from './ImageCache.js';\nimport PieSlice from './PieSlice.js';\nimport * as FontMeasurer from './FontMeasurer.js';\nimport * as hubSizes from './hubSizes.js';\nimport * as Util from './Util.js';\nimport * as ImageUtil from './ImageUtil.js';\n\n\nexport default class WheelPainter {\n\n  constructor() {\n    this.imageCache = new ImageCache();\n    this.names = [];\n    this.wheelImages = {};\n  }\n\n  draw(context, angle, names, colors, centerImage, hubSize, backgroundColor) {\n    const wheelRadius = context.canvas.width * .44;\n    const hubRadius = this.getHubRadius(wheelRadius, hubSize);\n    const drawShadows = Util.colorIsWhite(backgroundColor);\n    this.drawBackgroundColor(context, backgroundColor);\n    this.drawWheelShadow(context, wheelRadius, drawShadows);\n    if (names.includes('')) this.drawHat(context, wheelRadius, hubRadius);\n    this.drawWheel(context, wheelRadius, angle, names, colors, hubRadius);\n    this.drawPointer(context, wheelRadius, drawShadows);\n    this.drawHub(context, angle, centerImage, hubRadius);\n    //this.UpdateMyColors();\n  }\n\n  getHubRadius(wheelRadius, hubSize) {\n    const hubFraction = hubSizes.hubSizes[hubSize] || 0.2;\n    return Math.round(hubFraction * wheelRadius);\n  }\n\n  refresh() {\n    this.wheelImage = null;\n    this.pointerImage = null;\n  }\n\n  drawBackgroundColor(context, backgroundColor) {\n    if (backgroundColor=='#FFFFFF') return;\n    context.save();\n    context.fillStyle = backgroundColor;\n    context.fillRect(0, 0, context.canvas.width, context.canvas.height);\n    context.restore();\n  }\n\n  UpdateMyColors()\n  {\n    const colors = ImageUtil.extractColors(this.imageCache.getImage('images/cheers.png').src);\n    for (let i=0; i<colors.length; i++) {\n         this.wheelConfig.colorSettings[i] = {color: colors[i], enabled: true};                 \n        }\n    this.$forceUpdate();\n   }\n\n  drawWheelShadow(context, wheelRadius, drawShadows) {\n    if (!drawShadows) return;\n    if (!this.wheelShadowImage) {\n      this.wheelShadowImage = ImageUtil.createInMemoryImage(context.canvas.width, context.canvas.height);\n      this.drawWheelShadowNoCache(this.wheelShadowImage.getContext(\"2d\"), wheelRadius);\n    }\n    context.drawImage(this.wheelShadowImage, 0, 0);\n  }\n\n  drawWheel(context, wheelRadius, angle, names, colors, hubRadius) {\n    if (!this.wheelImage) {\n      this.wheelImage = ImageUtil.createInMemoryImage(context.canvas.width, context.canvas.height);\n      this.drawWheelNoCache(this.wheelImage.getContext(\"2d\"), wheelRadius, names, colors, hubRadius);\n      this.names = names.slice(0);\n    }\n    var width = context.canvas.width;\n    var height = context.canvas.height;\n    context.save();\n    context.translate(width / 2, height / 2);\n    context.rotate(angle);\n    context.translate(-width / 2, -height / 2);\n    context.drawImage(this.wheelImage, 0, 0);\n    context.restore();\n  }\n\n  drawHat(context, wheelRadius, hubRadius) {\n    const image = this.imageCache.getImage('images/hat-with-names.png');\n    const scale = (wheelRadius - hubRadius) / image.width;\n    const x = context.canvas.width / 2 - wheelRadius;\n    const height = image.height * scale;\n    const y = (context.canvas.height - height) / 2;\n    const width = wheelRadius - hubRadius;\n    context.drawImage(image, x, y, width, height);\n  }\n\n  drawPointer(context, wheelRadius, drawShadows) {\n    if (!this.pointerImage) {\n      this.pointerImage = ImageUtil.createInMemoryImage(context.canvas.width, context.canvas.height);\n      this.drawPointerNoCache(this.pointerImage.getContext(\"2d\"), wheelRadius, drawShadows);\n    }\n    context.drawImage(this.pointerImage, 0, 0);\n  }\n\n  drawWheelShadowNoCache(context, wheelRadius) {\n    var x = context.canvas.width / 2;\n    var y = context.canvas.height / 2;\n    var gradient = context.createRadialGradient(x, y, wheelRadius, x, y+4, wheelRadius+8);\n    gradient.addColorStop(0, '#bbb');\n    gradient.addColorStop(1, '#fff');\n    context.fillStyle = gradient;\n    context.fillRect(0, 0, context.canvas.width, context.canvas.height);\n  }\n\n  drawWheelNoCache(context, wheelRadius, names, colors, hubRadius) {\n    context.save();\n    context.translate(context.canvas.width / 2, context.canvas.height / 2);\n    var radiansPerSegment = 2 * Math.PI / names.length;\n    const self = this;\n    let slices = names.map(function(entry, index) {\n      const color = colors[index % colors.length];\n      const displayText = Util.extractDisplayText(entry, true);\n      const imageData = Util.extractImage(entry);\n      const image = self.getWheelImage(imageData);\n      return new PieSlice(radiansPerSegment, wheelRadius, hubRadius, color, displayText, image);\n    });\n    if (slices.length > 0) {\n      context.font = this.getSmallestFont(context, slices, wheelRadius, hubRadius);\n      slices.forEach(slice => {\n        slice.draw(context);\n        context.rotate(-radiansPerSegment);\n      });\n    }\n    context.restore();\n    context.save();\n    context.translate(context.canvas.width / 2, context.canvas.height / 2);\n    this.drawCenterCircle(context, hubRadius);\n    context.restore();\n  }\n\n  getSmallestFont(context, slices, wheelRadius, hubRadius) {\n    let minFontSize = 200;\n    let fontName = 'Quicksand, sans-serif';\n    slices.forEach(slice => {\n      let fontSize = FontMeasurer.getFontSize(context, slice.displayText,\n                              slices.length, fontName, wheelRadius, hubRadius);\n      if (fontSize < minFontSize) {\n        minFontSize = fontSize;\n      }\n    })\n    return minFontSize + 'px ' + fontName;\n  }\n\n  drawCenterCircle(context, hubRadius) {\n    context.fillStyle = 'white';\n    context.beginPath();\n    context.arc(0, 0, hubRadius, 0, Math.PI * 2);\n    context.fill();\n    context.lineWidth = 2;\n    context.strokeStyle = '#333333';\n    context.stroke();\n  }\n\n  drawPointerNoCache(context, wheelRadius, drawShadows) {\n    context.save();\n    context.translate(context.canvas.width / 2, context.canvas.height / 2);\n    if (drawShadows) {\n      context.shadowColor = '#444';\n      context.shadowOffsetY = 4;\n      context.shadowBlur = 10;\n    }\n    context.beginPath();\n    context.moveTo(wheelRadius - 15, 0);\n    context.lineTo(wheelRadius + 25, -20);\n    context.lineTo(wheelRadius + 25, 20);\n    context.lineTo(wheelRadius - 15, 0);\n    context.lineWidth = 2;\n    context.strokeStyle = '#333333';\n    context.stroke();\n    context.fillStyle = 'lightgray';\n    context.fill();\n    context.restore();\n  }\n\n  drawHub(context, angle, centerImage, hubRadius) {\n    var image = this.imageCache.getImage(centerImage);\n    if (image) {\n      context.save();\n      context.translate(context.canvas.width / 2, context.canvas.height / 2);\n      context.rotate(angle);\n      context.beginPath();\n      context.arc(0, 0, hubRadius-1, 0, Math.PI * 2, true);\n      context.clip();\n      context.drawImage(image, -hubRadius, -hubRadius, hubRadius*2, hubRadius*2);\n      context.restore();\n    }\n  }\n\n  getWheelImage(imageData) {\n    if (imageData) {\n      if (!this.wheelImages[imageData]) {\n        const image = new Image();\n        const self = this;\n        image.onload = (function() {\n          self.wheelImage = null;\n        })\n        image.setAttribute('crossOrigin', 'anonymous');\n        image.src = imageData;\n        this.wheelImages[imageData] = image;\n      }\n      return this.wheelImages[imageData];\n    }\n  }\n\n}\n","/*\nCopyright 2020 Google LLC\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    https://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport 'howler';\nimport * as Util from './Util.js';\n\nimport './third_party/soundbible/SMALL_CROWD_APPLAUSE-Yannick_Lemieux-1268806408.mp3';\nimport './ding.mp3';\nimport './third_party/soundbible/Tick-DeepFrozenApps-397275646.mp3';\nimport './third_party/filmmusic-io/strength-of-the-titans-by-kevin-macleod-from-filmmusic-io.mp3';\nimport './third_party/filmmusic-io/amazing-plan-by-kevin-macleod-from-filmmusic-io.mp3';\nimport './third_party/filmmusic-io/life-of-riley-by-kevin-macleod-from-filmmusic-io.mp3';\nimport './third_party/freesound/350428__benjaminharveydesign__trumpet-fanfare.mp3';\nimport './third_party/freesound/370743__podsburgh__winner-metal-bell-ringing-remix.mp3';\nimport './third_party/freesound/425432__trivialaccapella__18-crash-hit-soft.mp3';\nimport './third_party/freesound/320652_celebration__success.mp3';\n\n\nconst sounds = {};\nlet musicPlayingNow;\nconst duringSpinSounds = [\n  {name: 'sounds.No sound', value: 'no-sound'},\n  {name: 'sounds.Ticking sound', value: 'ticking-sound'},\n  {name: 'sounds.Dramatic music', value: 'dramatic-music', musicFile: '/strength-of-the-titans-by-kevin-macleod-from-filmmusic-io.mp3'},\n  {name: 'sounds.Piano music', value: 'piano-music', musicFile: '/amazing-plan-by-kevin-macleod-from-filmmusic-io.mp3'},\n  {name: 'sounds.Cheerful music', value: 'cheerful-music', musicFile: '/life-of-riley-by-kevin-macleod-from-filmmusic-io.mp3'},\n]\n\nconst afterSpinSounds = [\n  {name: 'sounds.No sound', value: 'no-sound'},\n  {name: 'sounds.Applause', value: 'applause-sound', file: '/SMALL_CROWD_APPLAUSE-Yannick_Lemieux-1268806408.mp3'},\n  {name: 'sounds.Celebration', value: 'celebration-sound', file: '/320652_celebration__success.mp3'},\n  {name: 'sounds.Fanfare', value: 'fanfare-sound', file: '/350428__benjaminharveydesign__trumpet-fanfare.mp3'},\n  {name: 'sounds.Bell ringing', value: 'bell-sound', file: '/370743__podsburgh__winner-metal-bell-ringing-remix.mp3'},\n  {name: 'sounds.Cymbals', value: 'cymbal-sound', file: '/425432__trivialaccapella__18-crash-hit-soft.mp3'},\n  {name: 'sounds.Read out the winning name', value: 'read-winner-sound'},\n]\n\nexport function getDuringSpinSounds() {\n  return duringSpinSounds;\n}\n\nexport function getAfterSpinSounds() {\n  return afterSpinSounds;\n}\n\nexport function playTick() {\n  playSound('/ding.mp3');\n}\n\nexport function playClick() {\n  playSound('/Tick-DeepFrozenApps-397275646.mp3');\n}\n\nexport function playAfterSpin(trackName, winningEntry) {\n  if (trackName=='read-winner-sound') {\n    if (window.speechSynthesis) {\n      const utterThis = new SpeechSynthesisUtterance(winningEntry);\n      window.speechSynthesis.speak(utterThis);\n    }\n  }\n  else {\n    const file = afterSpinSounds.find(sound => sound.value==trackName).file;\n    if (file) playSound(file);\n  }\n}\n\nexport function startMusic(trackName) {\n  const file = duringSpinSounds.find(sound => sound.value==trackName).musicFile;\n  if (file) musicPlayingNow = new Howl({ src: [file], autoplay: true });\n}\n\nexport function stopMusic() {\n  if (musicPlayingNow) musicPlayingNow.fade(1, 0, 1000);\n  musicPlayingNow = null;\n}\n\nfunction playSound(soundName) {\n  try {\n    if (sounds[soundName]) {\n      sounds[soundName].play();\n    }\n    else {\n      sounds[soundName] = new Howl({src: [soundName], autoplay: true});\n    }\n  }\n  catch (ex) {\n    Util.trackException(ex);\n  }\n}\n\nexport function preloadSounds(duringSpinSound, afterSpinSound) {\n  try {\n    preloadFile(duringSpinSounds.find(sound => sound.value==duringSpinSound).musicFile);\n    if (duringSpinSound == 'ticking-sound') preloadFile('/ding.mp3');\n    preloadFile(afterSpinSounds.find(sound => sound.value==afterSpinSound).file);\n  }\n  catch (ex) {\n    Util.trackException(ex);\n  }\n}\n\nfunction preloadFile(file) {\n  if (file && !sounds[file]) {\n    sounds[file] = new Howl({src: [file]});\n  }\n}\n","export default __webpack_public_path__ + \"/ding.mp3\";","/*\nCopyright 2020 Google LLC\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    https://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nexports.hubSizes = {\n  'XS': 0.01,\n  'S': 0.2,\n  'M': 0.3,\n  'L': 0.4,\n  'XL': 0.5,\n  'XXL': 0.6\n};\n","export default __webpack_public_path__ + \"/images/404_cat.png\";","export default __webpack_public_path__ + \"/images/cheers.png\";","export default __webpack_public_path__ + \"/images/favicon.ico\";","export default __webpack_public_path__ + \"/images/favicon.png\";","export default __webpack_public_path__ + \"/images/icon_192.png\";","export default __webpack_public_path__ + \"/images/icon_512.png\";","export default __webpack_public_path__ + \"/images/icon_57.png\";","export default __webpack_public_path__ + \"/images/link.png\";","export default __webpack_public_path__ + \"/images/none.png\";","import { render, staticRenderFns } from \"./loadingScreen.vue?vue&type=template&id=de8bc816&scoped=true&\"\nvar script = {}\nimport style0 from \"./loadingScreen.vue?vue&type=style&index=0&id=de8bc816&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"de8bc816\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/volume2/web/wheel-spinner/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('de8bc816')) {\n      api.createRecord('de8bc816', component.options)\n    } else {\n      api.reload('de8bc816', component.options)\n    }\n    module.hot.accept(\"./loadingScreen.vue?vue&type=template&id=de8bc816&scoped=true&\", function () {\n      api.rerender('de8bc816', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"static/loadingScreen.vue\"\nexport default component.exports","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js!../node_modules/css-loader/dist/cjs.js!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./loadingScreen.vue?vue&type=style&index=0&id=de8bc816&scoped=true&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js!../node_modules/css-loader/dist/cjs.js!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./loadingScreen.vue?vue&type=style&index=0&id=de8bc816&scoped=true&lang=css&\"","export * from \"-!../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../node_modules/vue-loader/lib/index.js??vue-loader-options!./loadingScreen.vue?vue&type=template&id=de8bc816&scoped=true&\"","var map = {\n\t\"./en-US\": [\n\t\t\"./static/locales/en-US.json\",\n\t\t\"locale-en-US\"\n\t],\n\t\"./en-US.json\": [\n\t\t\"./static/locales/en-US.json\",\n\t\t\"locale-en-US\"\n\t],\n\t\"./fr-FR\": [\n\t\t\"./static/locales/fr-FR.json\",\n\t\t\"locale-fr-FR\"\n\t],\n\t\"./fr-FR.json\": [\n\t\t\"./static/locales/fr-FR.json\",\n\t\t\"locale-fr-FR\"\n\t],\n\t\"./sv-SE\": [\n\t\t\"./static/locales/sv-SE.json\",\n\t\t\"locale-sv-SE\"\n\t],\n\t\"./sv-SE.json\": [\n\t\t\"./static/locales/sv-SE.json\",\n\t\t\"locale-sv-SE\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 3);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"./static/locales lazy recursive ^\\\\.\\\\/.*$\";\nmodule.exports = webpackAsyncContext;","import { render, staticRenderFns } from \"./spinningwheel.vue?vue&type=template&id=78fb99d2&scoped=true&\"\nimport script from \"./spinningwheel.vue?vue&type=script&lang=js&\"\nexport * from \"./spinningwheel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./spinningwheel.vue?vue&type=style&index=0&id=78fb99d2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"78fb99d2\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/volume2/web/wheel-spinner/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('78fb99d2')) {\n      api.createRecord('78fb99d2', component.options)\n    } else {\n      api.reload('78fb99d2', component.options)\n    }\n    module.hot.accept(\"./spinningwheel.vue?vue&type=template&id=78fb99d2&scoped=true&\", function () {\n      api.rerender('78fb99d2', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"static/spinningwheel.vue\"\nexport default component.exports","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./spinningwheel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./spinningwheel.vue?vue&type=script&lang=js&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js!../node_modules/css-loader/dist/cjs.js!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./spinningwheel.vue?vue&type=style&index=0&id=78fb99d2&scoped=true&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js!../node_modules/css-loader/dist/cjs.js!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./spinningwheel.vue?vue&type=style&index=0&id=78fb99d2&scoped=true&lang=css&\"","export * from \"-!../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../node_modules/vue-loader/lib/index.js??vue-loader-options!./spinningwheel.vue?vue&type=template&id=78fb99d2&scoped=true&\"","/*\nCopyright 2020 Google LLC\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    https://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport Vue from 'vue';\nimport Vuex from 'vuex'\nVue.use(Vuex);\nimport WheelConfig from './WheelConfig.js';\nimport Preferences from './Preferences.js';\nimport * as Util from './Util.js';\n\nexport default new Vuex.Store({\n  state: {\n    wheelConfig: new WheelConfig(),\n    preferences: new Preferences(),\n    appStatus: {\n      fullScreen: false, online: true, wheelSpinning: false, sheetLinked: false,\n      userIsLoggedIn: false, userPhotoUrl: '', userDisplayName: '', userUid: '',\n      darkMode: true\n    },\n    version: '2'\n  },\n  getters: {\n    entryCount: state => {\n      return state.wheelConfig.names.length;\n    },\n    darkMode: state => state.preferences.darkMode\n  },\n  mutations: {\n    setWheelConfig(state, newWheelConfig) {\n      state.wheelConfig = newWheelConfig;\n    },\n    setWheelTitle(state, title) {\n      const clone = state.wheelConfig.clone();\n      clone.title = title;\n      state.wheelConfig = clone;\n    },\n    setNames(state, names) {\n      state.wheelConfig.names = names;\n    },\n    shuffleNames(state) {\n      state.wheelConfig.names = Util.shuffleArray(state.wheelConfig.names);\n    },\n    sortNames(state) {\n      state.wheelConfig.names = Util.sortWheelEntries(state.wheelConfig.names);\n    },\n    appendNames(state, names) {\n      const newNames = state.wheelConfig.names.concat(names);\n      state.wheelConfig.names = newNames;\n    },\n    removeName(state, name) {\n      const newNames = state.wheelConfig.names.slice(0);\n      newNames.splice(newNames.indexOf(name), 1);\n      state.wheelConfig.names = newNames;\n      state.appStatus.sheetLinked = false;\n    },\n    removeNameAll(state, name) {\n      state.wheelConfig.names = state.wheelConfig.names.filter(entry => {\n        return (entry != name)\n      })\n      state.appStatus.sheetLinked = false;\n    },\n    enterFullScreen(state) {\n      state.appStatus.fullScreen = true;\n    },\n    exitFullScreen(state) {\n      state.appStatus.fullScreen = false;\n    },\n    setOnline(state, online) {\n      state.appStatus.online = online;\n    },\n    startWheelSpin(state) {\n      state.appStatus.wheelSpinning = true;\n    },\n    stopWheelSpin(state) {\n      state.appStatus.wheelSpinning = false;\n    },\n    linkSheet(state) {\n      state.appStatus.sheetLinked = true;\n    },\n    unlinkSheet(state) {\n      state.appStatus.sheetLinked = false;\n    },\n    logInUser(state, payload) {\n      state.appStatus.userIsLoggedIn = true;\n      state.appStatus.userPhotoUrl = payload.photoUrl;\n      state.appStatus.userDisplayName = payload.displayName;\n      state.appStatus.userUid = payload.uid;\n    },\n    logOutUser(state) {\n      state.appStatus.userIsLoggedIn = false;\n      state.appStatus.userPhotoUrl = '';\n      state.appStatus.userDisplayName = '';\n      state.appStatus.userUid = '';\n    },\n    setPreferences(state, newPrefs) {\n      state.preferences = newPrefs;\n    },\n    toggleAppInfoVisibility(state) {\n      const newPrefs = state.preferences.clone();\n      newPrefs.appInfoVisible = !newPrefs.appInfoVisible;\n      state.preferences = newPrefs;\n    },\n    toggleDarkMode(state) {\n      const newPrefs = state.preferences.clone();\n      newPrefs.darkMode = !newPrefs.darkMode;\n      state.preferences = newPrefs;\n    },\n  }\n})\n","export default __webpack_public_path__ + \"/amazing-plan-by-kevin-macleod-from-filmmusic-io.mp3\";","export default __webpack_public_path__ + \"/life-of-riley-by-kevin-macleod-from-filmmusic-io.mp3\";","export default __webpack_public_path__ + \"/strength-of-the-titans-by-kevin-macleod-from-filmmusic-io.mp3\";","export default __webpack_public_path__ + \"/320652_celebration__success.mp3\";","export default __webpack_public_path__ + \"/350428__benjaminharveydesign__trumpet-fanfare.mp3\";","export default __webpack_public_path__ + \"/370743__podsburgh__winner-metal-bell-ringing-remix.mp3\";","export default __webpack_public_path__ + \"/425432__trivialaccapella__18-crash-hit-soft.mp3\";","export default __webpack_public_path__ + \"/images/camera.png\";","export default __webpack_public_path__ + \"/images/cat.png\";","export default __webpack_public_path__ + \"/images/dog.png\";","export default __webpack_public_path__ + \"/images/dollar-sign.png\";","export default __webpack_public_path__ + \"/images/dragon.png\";","export default __webpack_public_path__ + \"/SMALL_CROWD_APPLAUSE-Yannick_Lemieux-1268806408.mp3\";","export default __webpack_public_path__ + \"/Tick-DeepFrozenApps-397275646.mp3\";","/*\nCopyright 2020 Google LLC\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    https://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport Vue from 'vue';\nimport Buefy from 'buefy';\nimport VueI18n from 'vue-i18n';\nimport VueMq from 'vue-mq';\nimport store from './store.js';\nimport viewapp from './viewapp.vue';\nimport * as Locales from './Locales.js';\nimport * as Util from './Util.js';\n\nimport 'buefy/dist/buefy.css';\n\nimport './images/favicon.png';\nimport './images/icon_57.png';\nimport './images/icon_192.png';\nimport './images/icon_512.png';\nimport './images/favicon.ico';\nimport './images/404_cat.png';\nimport './images/link.png';\n\nUtil.initTracking();\n\nVue.use(Buefy, {defaultIconPack: 'fas'});\nVue.use(VueMq, {\n  breakpoints: {\n    mobile: 900,\n    desktop: Infinity,\n  }\n});\nVue.use(VueI18n);\n\nconst i18n = new VueI18n({\n  locale: Locales.getLocale(window.location.hostname, window.location.pathname)\n})\n\nloadLocale(i18n.locale).then(() => {\n  new Vue({\n    i18n,\n    el: '#viewapp',\n    template: '<viewapp/>',\n    store,\n    components: { viewapp }\n  })\n})\n\nfunction loadLocale(locale) {\n  return new Promise(async (resolve) => {\n    const file = Locales.getMessagesFileName(locale);\n    const messages = (\n      await import(/* webpackChunkName: \"locale-[request]\" */\n                   `./locales/${file}`)\n    ).default;\n    i18n.setLocaleMessage(locale, messages);\n    resolve();\n  })\n}\n","import { render, staticRenderFns } from \"./viewapp.vue?vue&type=template&id=44385649&\"\nimport script from \"./viewapp.vue?vue&type=script&lang=js&\"\nexport * from \"./viewapp.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/volume2/web/wheel-spinner/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('44385649')) {\n      api.createRecord('44385649', component.options)\n    } else {\n      api.reload('44385649', component.options)\n    }\n    module.hot.accept(\"./viewapp.vue?vue&type=template&id=44385649&\", function () {\n      api.rerender('44385649', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"static/viewapp.vue\"\nexport default component.exports","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./viewapp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./viewapp.vue?vue&type=script&lang=js&\"","export * from \"-!../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../node_modules/vue-loader/lib/index.js??vue-loader-options!./viewapp.vue?vue&type=template&id=44385649&\"","import { render, staticRenderFns } from \"./winneranimation.vue?vue&type=template&id=ad0ed4dc&scoped=true&\"\nimport script from \"./winneranimation.vue?vue&type=script&lang=js&\"\nexport * from \"./winneranimation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./winneranimation.vue?vue&type=style&index=0&id=ad0ed4dc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ad0ed4dc\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/volume2/web/wheel-spinner/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('ad0ed4dc')) {\n      api.createRecord('ad0ed4dc', component.options)\n    } else {\n      api.reload('ad0ed4dc', component.options)\n    }\n    module.hot.accept(\"./winneranimation.vue?vue&type=template&id=ad0ed4dc&scoped=true&\", function () {\n      api.rerender('ad0ed4dc', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"static/winneranimation.vue\"\nexport default component.exports","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./winneranimation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./winneranimation.vue?vue&type=script&lang=js&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js!../node_modules/css-loader/dist/cjs.js!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./winneranimation.vue?vue&type=style&index=0&id=ad0ed4dc&scoped=true&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js!../node_modules/css-loader/dist/cjs.js!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./winneranimation.vue?vue&type=style&index=0&id=ad0ed4dc&scoped=true&lang=css&\"","export * from \"-!../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../node_modules/vue-loader/lib/index.js??vue-loader-options!./winneranimation.vue?vue&type=template&id=ad0ed4dc&scoped=true&\"","import { render, staticRenderFns } from \"./winnerdialog.vue?vue&type=template&id=0208062a&\"\nimport script from \"./winnerdialog.vue?vue&type=script&lang=js&\"\nexport * from \"./winnerdialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/volume2/web/wheel-spinner/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('0208062a')) {\n      api.createRecord('0208062a', component.options)\n    } else {\n      api.reload('0208062a', component.options)\n    }\n    module.hot.accept(\"./winnerdialog.vue?vue&type=template&id=0208062a&\", function () {\n      api.rerender('0208062a', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"static/winnerdialog.vue\"\nexport default component.exports","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./winnerdialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./winnerdialog.vue?vue&type=script&lang=js&\"","export * from \"-!../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../node_modules/vue-loader/lib/index.js??vue-loader-options!./winnerdialog.vue?vue&type=template&id=0208062a&\""],"sourceRoot":""}